# 제로베이스 재설계 연구 리포트

**작성일**: 2025-12-02
**목적**: 토스 UX 철학 기반 수학 문제은행 시스템 완전 재설계
**원칙**: 단순함 > 기능 / 자동화 > 수동 / 속도 > 정확성(검수로 보완)

---

## Executive Summary

현재 시스템은 **12개 메뉴**, **중복된 페이지**, **복잡한 워크플로우**로 인해
"10초 안에 문제 등록"이라는 목표와 동떨어져 있습니다.

이 리포트는 토스의 UX 철학을 적용하여:
1. 12개 메뉴 → **3개 핵심 화면**으로 축소
2. 5단계 워크플로우 → **1단계 (드롭 & 승인)**으로 단순화
3. 수동 라벨링 → **AI 자동 처리 + 검수**로 전환

을 제안합니다.

---

## Part 1: 현재 시스템 진단

### 1.1 현재 메뉴 구조 (12개)

```
┌─────────────────────────────────────┐
│  현재 사이드바 (12개 메뉴)          │
├─────────────────────────────────────┤
│  1. 대시보드        - 통계 표시      │
│  2. 문서 관리       - PDF 업로드     │
│  3. 라벨링 작업     - 블록 그룹핑    │
│  4. 문제은행        - PDF 문제 보기  │
│  5. 한글 파일       - HML/HWPX 업로드│
│  6. 통합 문제은행   - 전체 문제 보기 │
│  7. 시험지 빌더     - 시험지 생성    │
│  8. 해설 연결       - 문제↔해설 매칭 │
│  9. 작업 관리       - 백그라운드 작업│
│ 10. 통계           - 분석 대시보드   │
│ 11. 설정           - 앱 설정        │
│ 12. 도움말         - 사용 가이드    │
└─────────────────────────────────────┘
```

### 1.2 문제점 분석

#### ❌ 문제 1: 중복된 기능
| 페이지 A | 페이지 B | 중복 내용 |
|----------|----------|----------|
| 문제은행 | 통합 문제은행 | 문제 목록 표시 |
| 대시보드 | 통계 | 통계 정보 표시 |
| 문서 관리 | 한글 파일 | 파일 업로드 |

#### ❌ 문제 2: 복잡한 워크플로우
```
현재 워크플로우 (최소 15클릭):

1. 대시보드 접속
2. "문서 관리" 클릭
3. "업로드" 버튼 클릭
4. 파일 선택
5. 업로드 완료 대기
6. 문서 카드 클릭
7. "라벨링 시작" 클릭
8. 블록 선택 (다중)
9. "그룹 생성" 클릭
10. 문제 정보 입력
11. "저장" 클릭
12. 다음 페이지로 이동
13. (반복...)
14. "내보내기" 클릭
15. 문제은행에서 확인
```

#### ❌ 문제 3: 인지 부하
- 사용자가 "다음에 뭘 해야 하지?" 고민해야 함
- 메뉴 12개 중 어디로 가야 할지 불명확
- 상태 표시 부족 (진행률, 남은 작업)

#### ❌ 문제 4: 미구현/Mock 기능
| 페이지 | 상태 |
|--------|------|
| 해설 연결 | Mock 데이터 사용 |
| 작업 관리 | Mock 데이터 사용 |
| 통계 | 구현 불완전 |
| 도움말 | 404 에러 |

### 1.3 토스 철학 위반 사항

| 토스 원칙 | 현재 상태 | 위반 정도 |
|-----------|----------|----------|
| **Automation by Default** | 수동 블록 선택 필요 | 🔴 심각 |
| **Visual Simplicity** | 12개 메뉴, 복잡한 UI | 🔴 심각 |
| **Velocity** | 15+ 클릭 필요 | 🔴 심각 |
| **Progressive Disclosure** | 모든 기능 노출 | 🟡 중간 |
| **Optimistic UI** | 저장 후 새로고침 | 🟡 중간 |

---

## Part 2: 토스 철학 기반 재설계

### 2.1 핵심 비전

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│    "파일을 드롭하면, AI가 알아서 처리하고,                  │
│     사용자는 Enter만 누르면 됩니다."                        │
│                                                             │
│    Before: 15클릭, 5분                                      │
│    After:  1드롭 + N번 Enter, 10초/문제                     │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 새로운 메뉴 구조 (3개)

```
┌─────────────────────────────────────┐
│  새로운 사이드바 (3개 핵심 화면)    │
├─────────────────────────────────────┤
│                                     │
│  📥 등록                            │
│     파일 드롭 → AI 처리 → 검수      │
│                                     │
│  📚 문제은행                        │
│     모든 문제 검색/관리             │
│                                     │
│  📝 시험지                          │
│     문제 선택 → PDF 생성            │
│                                     │
├─────────────────────────────────────┤
│  ⚙️ 설정 (하단 고정)                │
└─────────────────────────────────────┘
```

### 2.3 새로운 워크플로우

```
┌─────────────────────────────────────────────────────────────┐
│                    새로운 워크플로우                         │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  Step 0: 파일 드롭 (PDF/HML/HWPX)                          │
│          ↓                                                  │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  🤖 AI 자동 처리 (백그라운드)                        │   │
│  │                                                      │   │
│  │  1. 문서 파싱 (PDF→이미지, HML→텍스트)              │   │
│  │  2. 문제 영역 자동 검출                              │   │
│  │  3. Mathpix OCR (수식 추출)                         │   │
│  │  4. Claude 태깅 (단원/난이도)                       │   │
│  │  5. 중복 체크 (선택)                                │   │
│  │                                                      │   │
│  │  ⏱️ 처리 시간: 페이지당 2-3초                        │   │
│  └─────────────────────────────────────────────────────┘   │
│          ↓                                                  │
│  Step 1: 검수 피드 (카드 스와이프 UI)                      │
│                                                             │
│  ┌──────────────────────────────────────────────────────┐  │
│  │                                                       │  │
│  │   ┌─────────────────────────────────────────────┐    │  │
│  │   │         [문제 이미지]                        │    │  │
│  │   │    x² + 2x + 1 = 0 을 풀어라                │    │  │
│  │   └─────────────────────────────────────────────┘    │  │
│  │                                                       │  │
│  │   AI 제안:                                            │  │
│  │   ┌──────────┐ ┌──────────┐ ┌──────────┐            │  │
│  │   │ 고등수학  │ │ 이차방정식│ │ 난이도 3 │            │  │
│  │   └──────────┘ └──────────┘ └──────────┘            │  │
│  │                                                       │  │
│  │   [Enter] 승인    [E] 수정    [→] 건너뛰기           │  │
│  │                                                       │  │
│  └──────────────────────────────────────────────────────┘  │
│          ↓                                                  │
│  Step 2: 완료! (문제은행에 자동 추가)                      │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 2.4 화면별 상세 설계

#### 📥 등록 화면 (Registration)

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│  ┌───────────────────────────────────────────────────────┐ │
│  │                                                        │ │
│  │                                                        │ │
│  │           📁 파일을 여기에 드롭하세요                  │ │
│  │                                                        │ │
│  │           PDF, HWP, HWPX 지원                         │ │
│  │                                                        │ │
│  │                                                        │ │
│  └───────────────────────────────────────────────────────┘ │
│                                                             │
│  ─────────────────────────────────────────────────────────  │
│                                                             │
│  최근 작업                                                  │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 📄 베이직쎈 중등 2-1.pdf                            │   │
│  │    45문제 추출 완료 · 10분 전                        │   │
│  │    [검수하기] [문제은행에서 보기]                    │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │ 📄 수능특강 수학1.hwpx                              │   │
│  │    🔄 처리 중... (32/78 페이지)                      │   │
│  │    [상세 보기]                                       │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

**키보드 단축키:**
- `Ctrl+V`: 클립보드에서 붙여넣기
- `Enter`: 최근 작업 검수 시작

#### 📚 문제은행 화면 (Problem Bank)

```
┌─────────────────────────────────────────────────────────────┐
│  🔍 검색...                              [필터] [정렬]      │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌────────────────────────────────────────────────────┐    │
│  │  빠른 필터                                          │    │
│  │  [전체] [고등수학] [수학1] [수학2] [미적분]         │    │
│  │  [★ 즐겨찾기] [📅 최근 추가]                        │    │
│  └────────────────────────────────────────────────────┘    │
│                                                             │
│  총 1,234문제                                               │
│                                                             │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐          │
│  │ [이미지]│ │ [이미지]│ │ [이미지]│ │ [이미지]│          │
│  │ 이차방정│ │ 삼각함수│ │ 미분   │ │ 적분   │          │
│  │ ⭐⭐⭐  │ │ ⭐⭐    │ │ ⭐⭐⭐⭐│ │ ⭐⭐⭐  │          │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘          │
│                                                             │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐          │
│  │ [이미지]│ │ [이미지]│ │ [이미지]│ │ [이미지]│          │
│  │ ...     │ │ ...     │ │ ...     │ │ ...     │          │
│  └─────────┘ └─────────┘ └─────────┘ └─────────┘          │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

**키보드 단축키:**
- `/`: 검색 포커스
- `1-5`: 난이도 필터
- `Enter`: 선택한 문제 상세 보기

#### 📝 시험지 화면 (Exam Builder)

```
┌─────────────────────────────────────────────────────────────┐
│  시험지 만들기                              [미리보기] [저장]│
├────────────────────────────┬────────────────────────────────┤
│                            │                                │
│  문제 선택                 │  시험지 미리보기               │
│                            │                                │
│  🔍 검색...               │  ┌────────────────────────┐    │
│                            │  │      수학 시험지       │    │
│  [고등수학] [수학1]        │  │                        │    │
│                            │  │  1. x² + 2x + 1 = 0   │    │
│  ┌─────────┐ ┌─────────┐  │  │     을 풀어라         │    │
│  │ [+추가] │ │ [+추가] │  │  │                        │    │
│  │ 이차방정│ │ 삼각함수│  │  │  2. sin²θ + cos²θ    │    │
│  └─────────┘ └─────────┘  │  │     의 값을 구하라    │    │
│                            │  │                        │    │
│  ┌─────────┐ ┌─────────┐  │  │  3. ...               │    │
│  │ [+추가] │ │ [+추가] │  │  │                        │    │
│  │ 미분    │ │ 적분    │  │  └────────────────────────┘    │
│  └─────────┘ └─────────┘  │                                │
│                            │  선택된 문제: 3개              │
│                            │  [PDF 다운로드]                │
│                            │                                │
└────────────────────────────┴────────────────────────────────┘
```

---

## Part 3: 기존 코드 처리 방안

### 3.1 유지할 핵심 자산

| 자산 | 파일 위치 | 이유 |
|------|----------|------|
| PDF 블록 검출 | `src/density_analyzer.py` | 핵심 알고리즘 |
| HML 파서 | `backend/app/services/hangul/hml_parser.py` | 핵심 파서 |
| HWPX 파서 | `backend/app/services/hangul/hwpx_parser.py` | 핵심 파서 |
| 분류 체계 | `backend/app/data/classification/math_tree.json` | 데이터 |
| PageCanvas (Konva) | `frontend/src/components/PageCanvas.tsx` | 검수 UI 재활용 |

### 3.2 제거할 코드

| 대상 | 파일/폴더 | 이유 |
|------|----------|------|
| 기존 페이지들 | `frontend/src/pages/*.tsx` (대부분) | 새로 작성 |
| 복잡한 Sidebar | `frontend/src/components/layout/Sidebar.tsx` | 간소화 |
| 중복 컴포넌트 | `ProblemBankPage`, `NewProblemBankPage` | 통합 |
| Mock 페이지 | `SolutionMatchingPage`, `TasksPage` | 미사용 |
| 백업 파일 | `*.backup`, `*.bak` | 정리 |

### 3.3 새로 만들 코드

| 컴포넌트 | 설명 | 우선순위 |
|----------|------|----------|
| `RegistrationPage` | 파일 드롭 + 진행 상태 | 🔴 필수 |
| `ReviewFeed` | 검수 피드 UI (카드 스와이프) | 🔴 필수 |
| `ProblemBankV2` | 통합 문제은행 | 🔴 필수 |
| `ExamBuilderV2` | 간소화된 시험지 빌더 | 🟡 중요 |
| `MinimalSidebar` | 3개 메뉴 사이드바 | 🔴 필수 |
| `DropZone` | 파일 드롭 컴포넌트 | 🔴 필수 |
| `ReviewCard` | 검수용 문제 카드 | 🔴 필수 |
| `ProcessingStatus` | AI 처리 진행률 | 🔴 필수 |

---

## Part 4: 구현 로드맵

### Phase 21.5: UI 쉘 교체 (즉시 실행)

```
Day 1:
├── App.tsx 완전 교체
├── MinimalSidebar 구현 (3개 메뉴)
├── 새로운 라우팅 설정
└── 기존 페이지 제거 또는 비활성화

Day 2:
├── RegistrationPage 기본 구조
├── DropZone 컴포넌트
└── 파일 업로드 연동
```

### Phase 22: AI Pipeline (승인 후)

```
Day 3-4:
├── Mathpix OCR 서비스
└── 단일 이미지 테스트

Day 5-7:
├── Claude 태깅 서비스
├── 프롬프트 최적화
└── 검증 로직
```

### Phase 23: Review UI (AI 완료 후)

```
Day 8-10:
├── ReviewFeed 컴포넌트
├── ReviewCard 컴포넌트
├── 키보드 단축키
└── Optimistic UI
```

### Phase 24: Problem Bank V2

```
Day 11-14:
├── ProblemBankV2 페이지
├── 검색/필터 기능
├── 그리드 뷰
└── 상세 모달
```

---

## Part 5: 예상 결과

### Before vs After

| 항목 | Before | After |
|------|--------|-------|
| 메뉴 수 | 12개 | 3개 |
| 문제 등록 클릭 수 | 15+ | 1 (드롭) |
| 문제당 검수 시간 | 60초 | 3초 |
| 학습 곡선 | 높음 | 낮음 |
| 코드 복잡도 | 높음 (중복) | 낮음 (단일) |

### 사용자 경험 시나리오

```
[시나리오: 새 문제집 등록]

Before (현재):
1. 대시보드 열기 (3초)
2. 문서 관리로 이동 (2초)
3. 업로드 버튼 클릭 (1초)
4. 파일 선택 (3초)
5. 업로드 대기 (10초)
6. 라벨링으로 이동 (2초)
7. 페이지별 블록 선택 (30초 × 50페이지 = 25분)
8. 그룹 저장 반복
9. 내보내기
10. 문제은행 확인

총 시간: 30분+ (50문제 기준)

After (새 설계):
1. 파일 드롭 (2초)
2. AI 처리 대기 (2분, 백그라운드)
3. 검수 피드에서 Enter 연타 (3초 × 50 = 2.5분)

총 시간: 5분 미만 (50문제 기준)
```

---

## Part 6: 승인 요청 사항

### 즉시 실행 (Phase 21.5)

다음 작업을 승인해 주세요:

- [ ] **App.tsx 완전 교체**: 기존 라우팅 제거, 새 구조로 시작
- [ ] **MinimalSidebar 구현**: 3개 메뉴 (등록, 문제은행, 시험지)
- [ ] **기존 페이지 비활성화**: 일단 주석 처리, 점진적 제거

### 주의 사항

- 핵심 자산 (파서, 분류 체계)은 **절대 삭제하지 않음**
- 기존 데이터 (dataset_root/)는 **유지**
- 백엔드 API는 **그대로 사용** (프론트엔드만 교체)

---

## 결론

> **"복잡함을 숨기는 것이 아니라, 복잡함 자체를 제거합니다."**
>
> — 토스 디자인 철학

이 리포트의 제안을 실행하면:
1. **사용자**: 10초 안에 문제 등록 가능
2. **개발자**: 유지보수할 코드 50% 감소
3. **비즈니스**: 문제 등록 처리량 6배 증가

---

*"진행해줘"라고 말씀하시면 Phase 21.5부터 실행합니다.*

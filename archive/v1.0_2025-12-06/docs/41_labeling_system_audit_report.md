# 라벨링 시스템 종합 점검 리포트

## 요약

라벨링 시스템 전체를 점검하여 불필요한 요소를 식별하고, 토스 UI/UX 철학과 비교하여 개선 방안을 제안합니다.

---

## 1. 현재 시스템 구성

### 1.1 파일 통계

| 카테고리 | 파일 수 | 상태 |
|---------|--------|------|
| 라벨링 페이지 | 3개 | ⚠️ 중복 의심 |
| 매칭 컴포넌트 | 9개 | ✅ 사용 중 |
| 라벨링 컴포넌트 | 4개 | ✅ 사용 중 |
| 훅 (Hooks) | 11개 | ⚠️ 2개 미사용 |

### 1.2 미사용 파일 확인 결과

| 파일 | 정의 | import된 곳 | 판정 |
|------|-----|-------------|------|
| `useConfirmAction.ts` | ✅ 존재 | ❌ 없음 | **🗑️ 삭제 가능** |
| `useModalState.ts` | ✅ 존재 | ❌ 없음 | **🗑️ 삭제 가능** |
| `ViewerPage.tsx` | ✅ 존재 | ✅ App.tsx | 사용 중 (구 페이지) |
| `DocumentMergeAnimation.tsx` | ✅ 존재 | ✅ DocumentsPage | 사용 중 (Phase 27) |
| `DualUploadCard.tsx` | ✅ 존재 | ✅ Dashboard, Registration | 사용 중 |

---

## 2. 토스 UI/UX 철학과 비교

### 2.1 토스 3대 원칙 vs 현재 시스템

| 원칙 | 토스 철학 | 현재 시스템 | 평가 |
|------|---------|------------|------|
| **자동화 (Automation)** | AI가 모든 필드 사전 입력 | 문항번호만 자동 증가 | ⚠️ 부분적 |
| **시각적 단순화** | 화면에 핵심만 표시 | 많은 정보가 동시 표시 | ❌ 복잡함 |
| **속도감 (Velocity)** | 키보드 중심, Optimistic UI | 키보드 단축키 있음 | ✅ 양호 |

### 2.2 상세 분석

#### ❌ 문제점 1: 화면 복잡도

**현재 라벨링 화면 구성:**
```
┌─────────────────────────────────────────────────────────┐
│ [헤더] 문서 정보 + 매칭 상태 + 역할 표시               │
├─────────────────────────────────────────────────────────┤
│ [네비게이션] 페이지 이동 + 오프셋 설정 + 확대/축소     │
├────────────────────────────────┬────────────────────────┤
│                                │ [사이드 패널]          │
│   [페이지 이미지]              │  - 그룹 목록           │
│   블록 표시                    │  - 편집 폼            │
│   그룹 표시                    │  - 확정 버튼          │
│                                │  - 연결 정보          │
├────────────────────────────────┴────────────────────────┤
│ [플로팅 패널] 매칭 현황 (우하단)                        │
└─────────────────────────────────────────────────────────┘
```

**토스 관점에서의 문제:**
- 한 화면에 너무 많은 정보
- 사용자 시선 분산
- 핵심 작업(블록 선택 → 그룹화)이 묻힘

#### ❌ 문제점 2: 수동 입력 과다

현재 그룹 생성 시:
```
1. 블록 드래그 선택
2. G키로 그룹 생성
3. 교재명 입력     ← 수동
4. 과정 입력       ← 수동
5. 페이지 입력     ← 수동 (자동화됨)
6. 문항번호 입력   ← 수동 (자동 제안)
7. 확정 버튼 클릭  ← 수동
```

**토스 철학 위반:**
- 7단계 중 4단계가 수동 입력
- "AI가 모든 필드 사전 입력" 원칙 미충족

#### ✅ 잘 된 부분

1. **키보드 단축키**: G(그룹 생성), Enter(확정), ESC(취소)
2. **자동 문항번호 증가**: 이전 문항 기반 추천
3. **페이지간 연속성**: 이전 페이지 마지막 번호 참조
4. **자동 확정**: 블록 선택 변경 시 자동 저장

---

## 3. 불필요하거나 산만한 요소 식별

### 3.1 즉시 제거 가능 (Dead Code)

| 파일 | 이유 | 조치 |
|------|------|------|
| `hooks/useConfirmAction.ts` | import 없음 | 삭제 |
| `hooks/useModalState.ts` | import 없음 | 삭제 |

### 3.2 정리/통합 필요

| 항목 | 현재 상태 | 문제점 | 권장 |
|------|---------|--------|------|
| **PageViewer.tsx** | 755줄 | God Component | 분리 필요 |
| **GroupPanel.tsx** | 503줄 | 편집+보기 혼합 | 분리 필요 |
| **매칭 상태 표시** | 헤더 + 플로팅 패널 | 중복 정보 | 통합 |

### 3.3 UI 복잡성 요소

| 요소 | 필수성 | 현재 위치 | 권장 |
|------|--------|----------|------|
| 오프셋 설정 | 낮음 | 항상 표시 | 숨김 (설정으로 이동) |
| 매칭 현황 패널 | 중간 | 플로팅 | 접기 가능하게 |
| 그룹 편집 폼 | 높음 | 사이드 패널 | 인라인 간소화 |
| 연결 정보 배지 | 낮음 | 그룹 카드 | 호버 시만 표시 |

---

## 4. 개선 제안

### 4.1 Phase A: 즉시 정리 (1시간)

```bash
# 미사용 파일 삭제
frontend/src/hooks/useConfirmAction.ts  → 삭제
frontend/src/hooks/useModalState.ts     → 삭제
```

### 4.2 Phase B: UI 단순화 (4시간)

#### Before: 현재 그룹 카드
```
┌───────────────────────────────┐
│ 📦 그룹 1 (3 블록)            │
│ ┌─────────────────────────┐   │
│ │ 교재: 수학의 정석        │   │
│ │ 과정: 고등수학          │   │
│ │ 페이지: 42              │   │
│ │ 문항: 3                 │   │
│ └─────────────────────────┘   │
│ [🔗 연결됨: 해설 문서]         │
│ [✏️ 편집] [🗑️ 삭제] [✅ 확정] │
└───────────────────────────────┘
```

#### After: 토스 스타일 그룹 카드
```
┌───────────────────────────────┐
│ 3번 문항                      │  ← 핵심만 표시
│ 수학의 정석 42p          [✅]  │  ← 원클릭 확정
└───────────────────────────────┘
   └→ 탭하면 상세 정보 펼침
```

### 4.3 Phase C: 워크플로우 간소화 (8시간)

#### 현재: 7단계
```
블록 선택 → G키 → 교재명 → 과정 → 페이지 → 문항번호 → 확정
```

#### 목표: 3단계
```
블록 선택 → G키 → (AI 자동 입력) → Enter로 승인
```

**구현 방법:**
1. 문서 업로드 시 교재명/과정 한 번만 설정
2. 페이지 번호는 현재 페이지에서 자동 추출
3. 문항번호는 이전 문항 기반 자동 제안
4. Enter만 누르면 승인 완료

### 4.4 Phase D: 코드 구조 개선 (6시간)

```
Before:
PageViewer.tsx (755줄)
├── 페이지 관리
├── 블록 선택
├── 그룹 생성
├── 문항 정보 편집
├── 확정/내보내기
└── 매칭 시스템

After:
PageViewer.tsx (300줄)           ← 오케스트레이션만
├── usePageNavigation.ts         ← 페이지 이동
├── useBlockSelection.ts         ← 블록 선택
├── useGroupManagement.ts        ← 그룹 CRUD
└── useMatchingIntegration.ts    ← 매칭 연동
```

---

## 5. 우선순위별 로드맵

### 🔴 즉시 (이번 주)

| 작업 | 시간 | 효과 |
|------|------|------|
| 미사용 훅 삭제 | 30분 | 코드 정리 |
| 오프셋 설정 숨김 | 1시간 | UI 단순화 |

### 🟡 단기 (1-2주)

| 작업 | 시간 | 효과 |
|------|------|------|
| 그룹 카드 간소화 | 4시간 | UX 개선 |
| 매칭 패널 통합 | 2시간 | 중복 제거 |
| 문서 설정 분리 | 3시간 | 자동화 기반 |

### 🟢 중기 (2-4주)

| 작업 | 시간 | 효과 |
|------|------|------|
| PageViewer 분리 | 6시간 | 유지보수성 |
| 워크플로우 3단계화 | 8시간 | 속도 3배 향상 |
| AI 자동 입력 | 8시간 | 완전 자동화 |

---

## 6. 결론

### 핵심 발견사항

1. **미사용 코드 2개**: 즉시 삭제 가능
2. **UI 복잡도 높음**: 토스 철학 대비 과도한 정보 표시
3. **수동 입력 과다**: 7단계 중 4단계가 수동
4. **코드 구조**: PageViewer가 God Component

### 권장 조치

| 우선순위 | 조치 | 예상 효과 |
|---------|------|----------|
| 1 | 미사용 파일 삭제 | 코드베이스 정리 |
| 2 | UI 요소 숨김/간소화 | 시각적 단순화 |
| 3 | 워크플로우 3단계화 | 작업 속도 3배 향상 |
| 4 | 코드 구조 개선 | 유지보수성 향상 |

### 최종 목표

```
현재: 문제 1개 라벨링 = 30초 (7단계)
목표: 문제 1개 라벨링 = 10초 (3단계)
```

---

## 7. 다음 단계

**즉시 실행할 수 있는 작업:**
1. `useConfirmAction.ts` 삭제
2. `useModalState.ts` 삭제
3. 오프셋 설정 UI 숨김

**진행하시겠습니까?**

---

*작성일: 2025-12-03*
*라벨링 시스템 종합 점검 리포트*

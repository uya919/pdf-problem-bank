# Phase 16: í•œê¸€ íŒŒì¼ ì§€ì› (HWPX/HML) ìƒì„¸ ê°œë°œ ê³„íš

**ìƒíƒœ**: ê°œë°œ ì˜ˆì •
**ì„ í–‰ ì—°êµ¬**:
- [33_hwp_file_format_extraction_research.md](33_hwp_file_format_extraction_research.md)
- [34_problem_answer_separation_system_research.md](34_problem_answer_separation_system_research.md)
- [35_integrated_system_ui_ux_research.md](35_integrated_system_ui_ux_research.md)

---

## ê°œìš”

HWPX(ZIP+XML)ì™€ HML(ìˆœìˆ˜ XML) í˜•ì‹ì˜ í•œê¸€ íŒŒì¼ì—ì„œ ë¬¸ì œ, ì •ë‹µ, í•´ì„¤ì„ ìë™ìœ¼ë¡œ ì¶”ì¶œí•˜ì—¬ ë¬¸ì œì€í–‰ì— ì €ì¥í•˜ëŠ” ê¸°ëŠ¥ ê°œë°œ

---

## ê¸°ìˆ  ìŠ¤íƒ ê²°ì •

| ì˜ì—­ | ì„ íƒ | ì´ìœ  |
|------|------|------|
| HML íŒŒì‹± | `xml.etree.ElementTree` | Python ë‚´ì¥, ìˆœìˆ˜ XML |
| HWPX íŒŒì‹± | `zipfile` + `xml.etree.ElementTree` | ZIP í•´ì œ í›„ XML íŒŒì‹± |
| ìˆ˜ì‹ ì²˜ë¦¬ | í•œê¸€ ìˆ˜ì‹ â†’ LaTeX ë³€í™˜ê¸° (ìì²´ êµ¬í˜„) | í‘œì¤€ í˜•ì‹ìœ¼ë¡œ ë³€í™˜ |
| ì´ë¯¸ì§€ ì¶”ì¶œ | `base64` (HML), íŒŒì¼ ë³µì‚¬ (HWPX) | í˜•ì‹ë³„ ë‹¤ë¥¸ ë°©ì‹ |

---

## ì„¸ë¶€ ê°œë°œ ë‹¨ê³„

### Phase 16-1: ë°±ì—”ë“œ íŒŒì„œ ê¸°ë°˜ êµ¬ì¡°

**ëª©í‘œ**: í•œê¸€ íŒŒì¼ íŒŒì„œì˜ ê¸°ë³¸ êµ¬ì¡° ë° ë¼ìš°í„° ì„¤ì •

**ì‘ì—… ë‚´ìš©**:
```
backend/app/
â”œâ”€â”€ routers/
â”‚   â””â”€â”€ hangul.py              # ìƒˆë¡œ ìƒì„±
â””â”€â”€ services/
    â””â”€â”€ hangul/                # ìƒˆë¡œ ìƒì„±
        â”œâ”€â”€ __init__.py
        â”œâ”€â”€ parser_base.py     # íŒŒì„œ ê¸°ë³¸ í´ë˜ìŠ¤
        â”œâ”€â”€ hml_parser.py      # HML íŒŒì„œ
        â”œâ”€â”€ hwpx_parser.py     # HWPX íŒŒì„œ
        â”œâ”€â”€ problem_extractor.py  # ë¬¸ì œ ì¶”ì¶œê¸°
        â””â”€â”€ equation_converter.py # ìˆ˜ì‹ ë³€í™˜ê¸°
```

**êµ¬í˜„í•  API**:
```python
# POST /api/hangul/parse
# - íŒŒì¼ ì—…ë¡œë“œ ë°›ì•„ íŒŒì‹±
# - ë¬¸ì œ/ì •ë‹µ/í•´ì„¤ ì¶”ì¶œ ê²°ê³¼ ë°˜í™˜

# POST /api/hangul/save
# - íŒŒì‹± ê²°ê³¼ë¥¼ ë¬¸ì œì€í–‰ì— ì €ì¥
```

**ê¸°ë³¸ ë°ì´í„° êµ¬ì¡°**:
```python
@dataclass
class ParsedProblem:
    """íŒŒì‹±ëœ ë¬¸ì œ"""
    number: str                    # ë¬¸ì œ ë²ˆí˜¸
    content_text: str              # ë¬¸ì œ í…ìŠ¤íŠ¸
    content_images: List[str]      # ì´ë¯¸ì§€ ê²½ë¡œë“¤
    content_equations: List[str]   # ìˆ˜ì‹ë“¤ (LaTeX)
    answer: Optional[str]          # ì •ë‹µ
    answer_type: str               # 'choice' | 'value' | 'expression'
    explanation: Optional[str]     # í•´ì„¤
    points: Optional[float]        # ë°°ì 

@dataclass
class ParseResult:
    """íŒŒì‹± ì „ì²´ ê²°ê³¼"""
    file_name: str
    file_type: str                 # 'hml' | 'hwpx'
    problems: List[ParsedProblem]
    metadata: Dict[str, Any]       # ê°ì§€ëœ ë©”íƒ€ë°ì´í„°
    warnings: List[str]            # íŒŒì‹± ê²½ê³ 
```

**ì˜ˆìƒ ì†Œìš”**: ê¸°ë°˜ êµ¬ì¡° ì„¤ì •

---

### Phase 16-2: HML íŒŒì„œ êµ¬í˜„

**ëª©í‘œ**: ìˆœìˆ˜ XML í˜•ì‹ì˜ HML íŒŒì¼ íŒŒì‹±

**íŒŒì¼ êµ¬ì¡° ë¶„ì„** (ì‹¤ì œ ìƒ˜í”Œ ê¸°ë°˜):
```xml
<HWPML Version="2.8">
  <HEAD>
    <DOCSUMMARY>
      <TITLE>ì œëª©</TITLE>
    </DOCSUMMARY>
    <MAPPINGTABLE>
      <BINDATALIST>
        <BINITEM BinData="1" Format="bmp"/>
      </BINDATALIST>
    </MAPPINGTABLE>
  </HEAD>
  <BODY>
    <SECTION>
      <P ParaShape="8">
        <TEXT CharShape="0">ë¬¸ì œ í…ìŠ¤íŠ¸...</TEXT>
        <EQUATION>ìˆ˜ì‹...</EQUATION>
      </P>
    </SECTION>
  </BODY>
</HWPML>
```

**êµ¬í˜„ ì½”ë“œ ì„¤ê³„**:
```python
class HMLParser:
    """HML íŒŒì¼ íŒŒì„œ"""

    def __init__(self, file_path: str):
        self.file_path = file_path
        self.tree = None
        self.root = None

    def parse(self) -> ParseResult:
        """HML íŒŒì¼ íŒŒì‹±"""
        self.tree = ET.parse(self.file_path)
        self.root = self.tree.getroot()

        # 1. ë¬¸ì„œ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ
        metadata = self._extract_metadata()

        # 2. ë³¸ë¬¸ í…ìŠ¤íŠ¸ ì¶”ì¶œ
        paragraphs = self._extract_paragraphs()

        # 3. ì´ë¯¸ì§€ ë°ì´í„° ì¶”ì¶œ
        images = self._extract_images()

        # 4. ë¬¸ì œ ë‹¨ìœ„ ë¶„ë¦¬
        problems = self._split_into_problems(paragraphs)

        return ParseResult(...)

    def _extract_paragraphs(self) -> List[Paragraph]:
        """ë¬¸ë‹¨ ì¶”ì¶œ"""
        paragraphs = []
        for p_elem in self.root.findall('.//P'):
            text = self._get_paragraph_text(p_elem)
            equations = self._get_paragraph_equations(p_elem)
            paragraphs.append(Paragraph(text, equations))
        return paragraphs

    def _extract_images(self) -> Dict[str, bytes]:
        """Base64 ì¸ì½”ë”©ëœ ì´ë¯¸ì§€ ì¶”ì¶œ"""
        images = {}
        for binitem in self.root.findall('.//BINITEM'):
            bin_id = binitem.get('BinData')
            # Base64 ë””ì½”ë”© ì²˜ë¦¬
            ...
        return images
```

**í…ŒìŠ¤íŠ¸ íŒŒì¼**: `ë‚´ì‹  2024ë…„ ì¸ì²œ ë¯¸ì¶”í™€êµ¬ ì¸í™”ì—¬ê³  ê³ 1 ê³µí†µ 1í•™ê¸°ê¸°ë§ ìˆ˜í•™ìƒ.Hml`

**ì˜ˆìƒ ì†Œìš”**: HML íŒŒì„œ í•µì‹¬ êµ¬í˜„

---

### Phase 16-3: HWPX íŒŒì„œ êµ¬í˜„

**ëª©í‘œ**: ZIP+XML í˜•ì‹ì˜ HWPX íŒŒì¼ íŒŒì‹±

**íŒŒì¼ êµ¬ì¡°** (ì‹¤ì œ ìƒ˜í”Œ ê¸°ë°˜):
```
íŒŒì¼.hwpx (ZIP)
â”œâ”€â”€ mimetype
â”œâ”€â”€ version.xml
â”œâ”€â”€ Contents/
â”‚   â”œâ”€â”€ header.xml
â”‚   â””â”€â”€ section0.xml      # ë³¸ë¬¸ (í•µì‹¬)
â””â”€â”€ BinData/
    â”œâ”€â”€ image1.jpg
    â”œâ”€â”€ image2.jpg
    â””â”€â”€ ...
```

**êµ¬í˜„ ì½”ë“œ ì„¤ê³„**:
```python
class HWPXParser:
    """HWPX íŒŒì¼ íŒŒì„œ"""

    def __init__(self, file_path: str):
        self.file_path = file_path
        self.temp_dir = None

    def parse(self) -> ParseResult:
        """HWPX íŒŒì¼ íŒŒì‹±"""
        # 1. ZIP ì••ì¶• í•´ì œ
        with zipfile.ZipFile(self.file_path, 'r') as zf:
            self.temp_dir = tempfile.mkdtemp()
            zf.extractall(self.temp_dir)

        try:
            # 2. section0.xml íŒŒì‹±
            section_path = os.path.join(self.temp_dir, 'Contents', 'section0.xml')
            paragraphs = self._parse_section(section_path)

            # 3. ì´ë¯¸ì§€ ì¶”ì¶œ
            images = self._extract_images()

            # 4. ë¬¸ì œ ë‹¨ìœ„ ë¶„ë¦¬
            problems = self._split_into_problems(paragraphs)

            return ParseResult(...)
        finally:
            # ì„ì‹œ ë””ë ‰í† ë¦¬ ì •ë¦¬
            shutil.rmtree(self.temp_dir)

    def _extract_images(self) -> Dict[str, str]:
        """BinData í´ë”ì—ì„œ ì´ë¯¸ì§€ ì¶”ì¶œ"""
        images = {}
        bindata_dir = os.path.join(self.temp_dir, 'BinData')

        if os.path.exists(bindata_dir):
            for filename in os.listdir(bindata_dir):
                src_path = os.path.join(bindata_dir, filename)
                # ì´ë¯¸ì§€ë¥¼ dataset_rootë¡œ ë³µì‚¬
                ...
        return images
```

**í…ŒìŠ¤íŠ¸ íŒŒì¼**: `[21ì°¨][ê³ 2][ë¼ì´íŠ¸SSEN ìˆ˜í•™1]01-ì§€ìˆ˜-125ì œ.hwpx`

**ì˜ˆìƒ ì†Œìš”**: HWPX íŒŒì„œ êµ¬í˜„

---

### Phase 16-4: ë¬¸ì œ/ì •ë‹µ/í•´ì„¤ ë¶„ë¦¬ ì•Œê³ ë¦¬ì¦˜

**ëª©í‘œ**: ì¶”ì¶œëœ í…ìŠ¤íŠ¸ì—ì„œ ë¬¸ì œ, ì •ë‹µ, í•´ì„¤ì„ ìë™ ë¶„ë¦¬

**íŒ¨í„´ ì •ì˜** (ì‹¤ì œ íŒŒì¼ ë¶„ì„ ê¸°ë°˜):
```python
class PatternDetector:
    """ë¬¸ì œ/ì •ë‹µ/í•´ì„¤ íŒ¨í„´ ê°ì§€"""

    # ë¬¸ì œ ë²ˆí˜¸ íŒ¨í„´
    PROBLEM_PATTERNS = [
        r'^(\d+)\.\s',           # 1. 2. 3.
        r'^(\d+)\)\s',           # 1) 2) 3)
        r'^\[(\d+)\]\s',         # [1] [2] [3]
        r'^(\d+)ë²ˆ\s',           # 1ë²ˆ 2ë²ˆ
        r'^ë¬¸ì œ\s*(\d+)',        # ë¬¸ì œ 1
    ]

    # ì •ë‹µ íŒ¨í„´
    ANSWER_PATTERNS = [
        r'\[ì •ë‹µ\]\s*([â‘ â‘¡â‘¢â‘£â‘¤])',       # [ì •ë‹µ] â‘¡
        r'\[ì •ë‹µ\]\s*(\d+)',              # [ì •ë‹µ] 15
        r'ì •ë‹µ\s*[:ï¼š]\s*([â‘ â‘¡â‘¢â‘£â‘¤])',   # ì •ë‹µ: â‘¡
        r'ì •ë‹µ\s*[:ï¼š]\s*(.+?)(?=\n|$)',  # ì •ë‹µ: ê°’
    ]

    # í•´ì„¤ íŒ¨í„´
    EXPLANATION_PATTERNS = [
        r'\[í•´ì„¤\](.+?)(?=\[ì •ë‹µ\]|\[ë¬¸ì œ\]|$)',
        r'\[í’€ì´\](.+?)(?=\[ì •ë‹µ\]|\[ë¬¸ì œ\]|$)',
        r'í•´ì„¤\s*[:ï¼š](.+?)(?=\n\d+\.|$)',
    ]

    # ë°°ì  íŒ¨í„´
    POINTS_PATTERN = r'\[(\d+\.?\d*)ì \]'
```

**ë¶„ë¦¬ ì•Œê³ ë¦¬ì¦˜**:
```python
class ProblemExtractor:
    """ë¬¸ì œ ë‹¨ìœ„ ì¶”ì¶œ ë° ë¶„ë¦¬"""

    def extract(self, paragraphs: List[str]) -> List[ParsedProblem]:
        """ì „ì²´ í…ìŠ¤íŠ¸ì—ì„œ ë¬¸ì œë“¤ ì¶”ì¶œ"""

        # 1. ë¬¸ì„œ íŒ¨í„´ ìë™ ê°ì§€
        pattern_type = self._detect_document_pattern(paragraphs)

        # 2. íŒ¨í„´ì— ë”°ë¥¸ ë¶„ë¦¬ ì „ëµ ì„ íƒ
        if pattern_type == 'inline':
            # ë¬¸ì œ ì§í›„ ì •ë‹µ (ì¸í™”ì—¬ê³  ìŠ¤íƒ€ì¼)
            return self._extract_inline_pattern(paragraphs)
        elif pattern_type == 'section':
            # ë¬¸ì œë¶€/ì •ë‹µë¶€ ë¶„ë¦¬
            return self._extract_section_pattern(paragraphs)
        elif pattern_type == 'mixed':
            # í’€ì´ í¬í•¨ í˜¼í•© (ë¼ì´íŠ¸SSEN ìŠ¤íƒ€ì¼)
            return self._extract_mixed_pattern(paragraphs)

    def _detect_document_pattern(self, paragraphs: List[str]) -> str:
        """ë¬¸ì„œì˜ ì •ë‹µ ë°°ì¹˜ íŒ¨í„´ ê°ì§€"""
        full_text = '\n'.join(paragraphs)

        # [ì •ë‹µ] íƒœê·¸ ì¸ë¼ì¸ ì—¬ë¶€
        inline_count = len(re.findall(r'\[ì •ë‹µ\]', full_text))

        # ì„¹ì…˜ ë¶„ë¦¬ ì—¬ë¶€
        has_section = bool(re.search(
            r'(ì •ë‹µ\s*(ë°|ê³¼)?\s*í•´ì„¤|ë¹ ë¥¸\s*ì •ë‹µ)',
            full_text
        ))

        if has_section:
            return 'section'
        elif inline_count > 0:
            return 'inline'
        else:
            return 'mixed'

    def _extract_inline_pattern(self, paragraphs: List[str]) -> List[ParsedProblem]:
        """ì¸ë¼ì¸ íŒ¨í„´ ì¶”ì¶œ (ë¬¸ì œ ì§í›„ ì •ë‹µ)"""
        problems = []
        current_problem = None

        for para in paragraphs:
            # ë¬¸ì œ ì‹œì‘ ê°ì§€
            prob_match = self._match_problem_start(para)
            if prob_match:
                if current_problem:
                    problems.append(current_problem)
                current_problem = ParsedProblem(
                    number=prob_match.group(1),
                    content_text=para,
                    ...
                )
                continue

            # ì •ë‹µ ê°ì§€
            ans_match = self._match_answer(para)
            if ans_match and current_problem:
                current_problem.answer = ans_match.group(1)
                current_problem.answer_type = self._detect_answer_type(ans_match.group(1))
                continue

            # ë°°ì  ê°ì§€
            points_match = re.search(self.POINTS_PATTERN, para)
            if points_match and current_problem:
                current_problem.points = float(points_match.group(1))
                continue

            # í˜„ì¬ ë¬¸ì œì— ë‚´ìš© ì¶”ê°€
            if current_problem:
                current_problem.content_text += '\n' + para

        if current_problem:
            problems.append(current_problem)

        return problems
```

**í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤**:
| íŒŒì¼ | ì˜ˆìƒ ê²°ê³¼ |
|------|----------|
| ì¸í™”ì—¬ê³  HML | 22ê°œ ë¬¸ì œ, 22ê°œ ì •ë‹µ, `[ì •ë‹µ]` íŒ¨í„´ |
| ë¼ì´íŠ¸SSEN HWPX | 125ê°œ ë¬¸ì œ, 125ê°œ ì •ë‹µ, í’€ì´ í¬í•¨ |

**ì˜ˆìƒ ì†Œìš”**: ë¶„ë¦¬ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„ ë° í…ŒìŠ¤íŠ¸

---

### Phase 16-5: í”„ë¡ íŠ¸ì—”ë“œ ì—…ë¡œë“œ UI

**ëª©í‘œ**: í•œê¸€ íŒŒì¼ ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì—…ë¡œë“œ í™”ë©´

**íŒŒì¼ êµ¬ì¡°**:
```
frontend/src/
â”œâ”€â”€ pages/
â”‚   â””â”€â”€ collect/
â”‚       â””â”€â”€ HangulUploadPage.tsx    # ìƒˆë¡œ ìƒì„±
â”œâ”€â”€ components/
â”‚   â””â”€â”€ hangul/
â”‚       â”œâ”€â”€ HangulDropzone.tsx      # ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì˜ì—­
â”‚       â”œâ”€â”€ ParseProgress.tsx       # íŒŒì‹± ì§„í–‰ ìƒíƒœ
â”‚       â””â”€â”€ FileInfo.tsx            # íŒŒì¼ ì •ë³´ í‘œì‹œ
â””â”€â”€ api/
    â””â”€â”€ hangul.ts                   # API í´ë¼ì´ì–¸íŠ¸
```

**UI ì„¤ê³„**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“„ í•œê¸€ íŒŒì¼ ì—…ë¡œë“œ                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                             â”‚   â”‚
â”‚  â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚   â”‚
â”‚  â”‚     â”‚              ğŸ“„                       â”‚               â”‚   â”‚
â”‚  â”‚     â”‚    HWPX ë˜ëŠ” HML íŒŒì¼ì„               â”‚               â”‚   â”‚
â”‚  â”‚     â”‚    ì—¬ê¸°ì— ë“œë˜ê·¸í•˜ê±°ë‚˜                â”‚               â”‚   â”‚
â”‚  â”‚     â”‚    [íŒŒì¼ ì„ íƒ] ë²„íŠ¼ í´ë¦­              â”‚               â”‚   â”‚
â”‚  â”‚     â”‚                                       â”‚               â”‚   â”‚
â”‚  â”‚     â”‚    ì§€ì›: .hwpx, .hml                  â”‚               â”‚   â”‚
â”‚  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚   â”‚
â”‚  â”‚                                                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€ ìë™ ì²˜ë¦¬ í•­ëª© â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  âœ“ ë¬¸ì œ í…ìŠ¤íŠ¸ ì¶”ì¶œ                                        â”‚   â”‚
â”‚  â”‚  âœ“ ìˆ˜ì‹ ë³€í™˜ (LaTeX)                                       â”‚   â”‚
â”‚  â”‚  âœ“ ì´ë¯¸ì§€ ì¶”ì¶œ                                             â”‚   â”‚
â”‚  â”‚  âœ“ ì •ë‹µ ìë™ ê°ì§€ ([ì •ë‹µ] íŒ¨í„´)                            â”‚   â”‚
â”‚  â”‚  âœ“ í•´ì„¤ ìë™ ë¶„ë¦¬                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì»´í¬ë„ŒíŠ¸ ì„¤ê³„**:
```typescript
// HangulDropzone.tsx
interface HangulDropzoneProps {
  onFileSelect: (file: File) => void;
  isLoading: boolean;
  acceptedTypes: string[];  // ['.hwpx', '.hml']
}

// API í´ë¼ì´ì–¸íŠ¸
// api/hangul.ts
export const hangulApi = {
  parse: async (file: File): Promise<ParseResult> => {
    const formData = new FormData();
    formData.append('file', file);

    const response = await fetch('/api/hangul/parse', {
      method: 'POST',
      body: formData,
    });

    return response.json();
  },

  save: async (data: SaveRequest): Promise<SaveResponse> => {
    // ë¬¸ì œì€í–‰ì— ì €ì¥
    ...
  }
};
```

**ì˜ˆìƒ ì†Œìš”**: ì—…ë¡œë“œ UI êµ¬í˜„

---

### Phase 16-6: íŒŒì‹± ê²°ê³¼ ë¯¸ë¦¬ë³´ê¸° UI

**ëª©í‘œ**: íŒŒì‹±ëœ ë¬¸ì œ/ì •ë‹µ/í•´ì„¤ì„ í™•ì¸í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” í™”ë©´

**UI ì„¤ê³„**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“„ íŒŒì‹± ê²°ê³¼: ë¼ì´íŠ¸SSEN ìˆ˜í•™1 01-ì§€ìˆ˜-125ì œ.hwpx                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€ ìš”ì•½ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  âœ“ 125ê°œ ë¬¸ì œ ê°ì§€  âœ“ 125ê°œ ì •ë‹µ ê°ì§€  âš  98ê°œ í•´ì„¤ ê°ì§€    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€ ë¬¸ì œ ëª©ë¡ (í´ë¦­í•˜ì—¬ ìƒì„¸ ë³´ê¸°) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ #1                                     âœ“ì •ë‹µ âœ“í•´ì„¤     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ ë‹¤ìŒ ì‹ì„ ê°„ë‹¨íˆ í•˜ì‹œì˜¤.                               â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ 2Â³ Ã— 2â´                                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ [ì •ë‹µ: 2â·]                                             â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚ #2                                     âœ“ì •ë‹µ âš í•´ì„¤ì—†ìŒ â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ âˆš8 Ã— âˆš2 ë¥¼ ê³„ì‚°í•˜ì‹œì˜¤.                                 â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ [ì •ë‹µ: 4]                                              â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  ... (ìŠ¤í¬ë¡¤)                                                â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€ ì„ íƒëœ ë¬¸ì œ ìƒì„¸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  ë¬¸ì œ #1                                       [í¸ì§‘]       â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  ë‹¤ìŒ ì‹ì„ ê°„ë‹¨íˆ í•˜ì‹œì˜¤.                                   â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  2Â³ Ã— 2â´                                                    â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  ì •ë‹µ: 2â·                                      [í¸ì§‘]       â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  í•´ì„¤: ì§€ìˆ˜ë²•ì¹™ì— ì˜í•´ aáµ Ã— aâ¿ = aáµâºâ¿           [í¸ì§‘]       â”‚   â”‚
â”‚  â”‚        ë”°ë¼ì„œ 2Â³ Ã— 2â´ = 2Â³âºâ´ = 2â·                           â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â”‚                              [ì „ì²´ ì„ íƒ í•´ì œ]  [ë‹¤ìŒ: ë©”íƒ€ë°ì´í„°]   â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì»´í¬ë„ŒíŠ¸**:
```typescript
// ParseResultPreview.tsx
interface ParseResultPreviewProps {
  result: ParseResult;
  onProblemEdit: (index: number, problem: ParsedProblem) => void;
  onProblemToggle: (index: number) => void;
  selectedProblems: Set<number>;
}

// ProblemCard.tsx (ë¯¸ë¦¬ë³´ê¸° ì¹´ë“œ)
// ProblemDetail.tsx (ìƒì„¸ ë³´ê¸°/í¸ì§‘)
// AnswerEditor.tsx (ì •ë‹µ í¸ì§‘)
// ExplanationEditor.tsx (í•´ì„¤ í¸ì§‘)
```

**ì˜ˆìƒ ì†Œìš”**: ë¯¸ë¦¬ë³´ê¸° UI êµ¬í˜„

---

### Phase 16-7: ë©”íƒ€ë°ì´í„° ì„¤ì • UI

**ëª©í‘œ**: ì¶”ì¶œëœ ë¬¸ì œë“¤ì— ê³¼ëª©/í•™ë…„/ë‹¨ì› ë“± ë©”íƒ€ë°ì´í„° ì¼ê´„ ì„¤ì •

**UI ì„¤ê³„**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ ë©”íƒ€ë°ì´í„° ì„¤ì •                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€ ì¼ê´„ ì„¤ì • (125ê°œ ë¬¸ì œì— ì ìš©) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  ê³¼ëª©:    [ìˆ˜í•™        â–¾]                                   â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  í•™ë…„:    [ê³ 2         â–¾]                                   â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  ë‹¨ì›:    [ì§€ìˆ˜        â–¾]    [+ ìƒˆ ë‹¨ì› ì¶”ê°€]               â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  ì¶œì²˜:    [ë¼ì´íŠ¸SSEN ìˆ˜í•™1                            ]    â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  ë‚œì´ë„:  â—‹ í•˜  â—‹ ì¤‘í•˜  â— ì¤‘  â—‹ ì¤‘ìƒ  â—‹ ìƒ               â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  íƒœê·¸:    [ì§€ìˆ˜] [ê±°ë“­ì œê³±] [ê±°ë“­ì œê³±ê·¼] [+ ì¶”ê°€]           â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€ ìë™ ê°ì§€ëœ ì •ë³´ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  íŒŒì¼ëª…ì—ì„œ ê°ì§€:                                            â”‚   â”‚
â”‚  â”‚  â€¢ ê³¼ëª©: ìˆ˜í•™1 â†’ ìˆ˜í•™                                       â”‚   â”‚
â”‚  â”‚  â€¢ ë‹¨ì›: 01-ì§€ìˆ˜ â†’ ì§€ìˆ˜                                     â”‚   â”‚
â”‚  â”‚  â€¢ ë¬¸ì œ ìˆ˜: 125ì œ                                           â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  ë‚´ìš©ì—ì„œ ê°ì§€:                                              â”‚   â”‚
â”‚  â”‚  â€¢ "ê³ 2" ì–¸ê¸‰ â†’ í•™ë…„: ê³ 2                                   â”‚   â”‚
â”‚  â”‚  â€¢ "ë¼ì´íŠ¸SSEN" â†’ ì¶œì²˜ ìë™ ì…ë ¥                            â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â”‚  â”Œâ”€ ê°œë³„ ë¬¸ì œ ë©”íƒ€ë°ì´í„° ìˆ˜ì • (ì„ íƒ) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â”‚  â˜ ë¬¸ì œë³„ ë‚œì´ë„ ê°œë³„ ì„¤ì •                                  â”‚   â”‚
â”‚  â”‚  â˜ ë¬¸ì œë³„ ë‹¨ì› ê°œë³„ ì„¤ì •                                    â”‚   â”‚
â”‚  â”‚                                                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â”‚                    [ì´ì „: ë¯¸ë¦¬ë³´ê¸°]  [ë¬¸ì œì€í–‰ì— ì €ì¥]              â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ìë™ ê°ì§€ ë¡œì§**:
```python
class MetadataDetector:
    """íŒŒì¼ëª…/ë‚´ìš©ì—ì„œ ë©”íƒ€ë°ì´í„° ìë™ ê°ì§€"""

    # ê³¼ëª© íŒ¨í„´
    SUBJECT_PATTERNS = {
        'ìˆ˜í•™': [r'ìˆ˜í•™', r'math'],
        'ì˜ì–´': [r'ì˜ì–´', r'english'],
        'êµ­ì–´': [r'êµ­ì–´', r'korean'],
        'ê³¼í•™': [r'ê³¼í•™', r'science', r'ë¬¼ë¦¬', r'í™”í•™', r'ìƒë¬¼'],
    }

    # í•™ë…„ íŒ¨í„´
    GRADE_PATTERNS = {
        'ê³ 1': [r'ê³ 1', r'ê³ ë“±í•™êµ\s*1'],
        'ê³ 2': [r'ê³ 2', r'ê³ ë“±í•™êµ\s*2'],
        'ê³ 3': [r'ê³ 3', r'ê³ ë“±í•™êµ\s*3'],
        'ì¤‘1': [r'ì¤‘1', r'ì¤‘í•™êµ\s*1'],
        # ...
    }

    def detect_from_filename(self, filename: str) -> Dict[str, str]:
        """íŒŒì¼ëª…ì—ì„œ ë©”íƒ€ë°ì´í„° ì¶”ì¶œ"""
        metadata = {}

        for subject, patterns in self.SUBJECT_PATTERNS.items():
            if any(re.search(p, filename, re.I) for p in patterns):
                metadata['subject'] = subject
                break

        # í•™ë…„, ë‹¨ì› ë“± ê°ì§€
        ...

        return metadata
```

**ì˜ˆìƒ ì†Œìš”**: ë©”íƒ€ë°ì´í„° UI êµ¬í˜„

---

### Phase 16-8: ë¬¸ì œì€í–‰ ì €ì¥ í†µí•©

**ëª©í‘œ**: ì„¤ì •ëœ ë©”íƒ€ë°ì´í„°ì™€ í•¨ê»˜ ë¬¸ì œë¥¼ í†µí•© ë¬¸ì œì€í–‰ì— ì €ì¥

**ì €ì¥ íë¦„**:
```
ì‚¬ìš©ì í´ë¦­: [ë¬¸ì œì€í–‰ì— ì €ì¥]
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. ë°ì´í„° ê²€ì¦                          â”‚
â”‚     - í•„ìˆ˜ í•„ë“œ í™•ì¸ (ê³¼ëª©, í•™ë…„)        â”‚
â”‚     - ì •ë‹µ í˜•ì‹ ê²€ì¦                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. ì´ë¯¸ì§€ ì €ì¥                          â”‚
â”‚     - dataset_root/images/ ì— ì €ì¥      â”‚
â”‚     - UUID ê¸°ë°˜ íŒŒì¼ëª…                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. ë¬¸ì œ ë ˆì½”ë“œ ìƒì„±                     â”‚
â”‚     - problems í…Œì´ë¸”/JSON ì €ì¥         â”‚
â”‚     - answers ì €ì¥                       â”‚
â”‚     - explanations ì €ì¥                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. ê²°ê³¼ ë°˜í™˜                            â”‚
â”‚     - ì €ì¥ëœ ë¬¸ì œ ìˆ˜                     â”‚
â”‚     - ë¬¸ì œì€í–‰ í˜ì´ì§€ë¡œ ì´ë™ ì˜µì…˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API ì—”ë“œí¬ì¸íŠ¸**:
```python
# POST /api/hangul/save
@router.post("/save")
async def save_parsed_problems(
    request: SaveRequest
) -> SaveResponse:
    """
    íŒŒì‹±ëœ ë¬¸ì œë“¤ì„ ë¬¸ì œì€í–‰ì— ì €ì¥

    Request:
    {
        "problems": [...],
        "metadata": {
            "subject": "ìˆ˜í•™",
            "grade": "ê³ 2",
            "chapter": "ì§€ìˆ˜",
            "source": "ë¼ì´íŠ¸SSEN",
            "difficulty": 3,
            "tags": ["ì§€ìˆ˜", "ê±°ë“­ì œê³±"]
        }
    }

    Response:
    {
        "success": true,
        "saved_count": 125,
        "problem_ids": ["prob_001", "prob_002", ...]
    }
    """
```

**ì €ì¥ ë°ì´í„° êµ¬ì¡°** (JSON ê¸°ë°˜, ì¶”í›„ DB ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ëŠ¥):
```
dataset_root/
â”œâ”€â”€ problem_bank/
â”‚   â”œâ”€â”€ index.json            # ì „ì²´ ì¸ë±ìŠ¤
â”‚   â”œâ”€â”€ problems/
â”‚   â”‚   â”œâ”€â”€ prob_001.json     # ê°œë³„ ë¬¸ì œ
â”‚   â”‚   â”œâ”€â”€ prob_002.json
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ answers/
â”‚   â”‚   â”œâ”€â”€ ans_001.json
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ explanations/
â”‚       â”œâ”€â”€ exp_001.json
â”‚       â””â”€â”€ ...
â””â”€â”€ images/
    â””â”€â”€ problems/
        â”œâ”€â”€ img_001.png
        â””â”€â”€ ...
```

**ì˜ˆìƒ ì†Œìš”**: ì €ì¥ ë¡œì§ êµ¬í˜„

---

## ì „ì²´ ì¼ì • ìš”ì•½

| ë‹¨ê³„ | ë‚´ìš© | ì£¼ìš” ì‚°ì¶œë¬¼ |
|------|------|------------|
| **16-1** | ë°±ì—”ë“œ ê¸°ë°˜ êµ¬ì¡° | `routers/hangul.py`, `services/hangul/` |
| **16-2** | HML íŒŒì„œ | `hml_parser.py` |
| **16-3** | HWPX íŒŒì„œ | `hwpx_parser.py` |
| **16-4** | ë¶„ë¦¬ ì•Œê³ ë¦¬ì¦˜ | `problem_extractor.py` |
| **16-5** | ì—…ë¡œë“œ UI | `HangulUploadPage.tsx` |
| **16-6** | ë¯¸ë¦¬ë³´ê¸° UI | `ParseResultPreview.tsx` |
| **16-7** | ë©”íƒ€ë°ì´í„° UI | `MetadataForm.tsx` |
| **16-8** | ì €ì¥ í†µí•© | ë¬¸ì œì€í–‰ ì—°ë™ |

---

## í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ë°±ì—”ë“œ í…ŒìŠ¤íŠ¸
- [ ] HML íŒŒì¼ í…ìŠ¤íŠ¸ ì¶”ì¶œ ì •í™•ë„
- [ ] HWPX íŒŒì¼ í…ìŠ¤íŠ¸ ì¶”ì¶œ ì •í™•ë„
- [ ] ì •ë‹µ íŒ¨í„´ ì¸ì‹ë¥  (ëª©í‘œ: 95%+)
- [ ] í•´ì„¤ ë¶„ë¦¬ ì •í™•ë„
- [ ] ì´ë¯¸ì§€ ì¶”ì¶œ ë° ì €ì¥
- [ ] ìˆ˜ì‹ LaTeX ë³€í™˜ (ê¸°ë³¸ ì¼€ì´ìŠ¤)

### í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸
- [ ] íŒŒì¼ ë“œë˜ê·¸ ì•¤ ë“œë¡­
- [ ] ëŒ€ìš©ëŸ‰ íŒŒì¼ ì—…ë¡œë“œ (> 1MB)
- [ ] íŒŒì‹± ì§„í–‰ ìƒíƒœ í‘œì‹œ
- [ ] ë¬¸ì œ ë¯¸ë¦¬ë³´ê¸° ì •í™•ì„±
- [ ] ë©”íƒ€ë°ì´í„° ì„¤ì • ì €ì¥
- [ ] ë¬¸ì œì€í–‰ ì €ì¥ ì„±ê³µ

### í†µí•© í…ŒìŠ¤íŠ¸
- [ ] ì¸í™”ì—¬ê³  HML â†’ 22ê°œ ë¬¸ì œ ì¶”ì¶œ
- [ ] ë¼ì´íŠ¸SSEN HWPX â†’ 125ê°œ ë¬¸ì œ ì¶”ì¶œ
- [ ] ì €ì¥ëœ ë¬¸ì œ ë¬¸ì œì€í–‰ì—ì„œ ì¡°íšŒ

---

## ì„ í–‰ ì‘ì—…

1. **ë¼ìš°íŒ… ì¶”ê°€**: App.tsxì— `/collect/hangul` ê²½ë¡œ ì¶”ê°€
2. **ì‚¬ì´ë“œë°” ìˆ˜ì •**: "í•œê¸€ íŒŒì¼" ë©”ë‰´ í•­ëª© ì¶”ê°€
3. **dataset_root êµ¬ì¡°**: `problem_bank/` í´ë” êµ¬ì¡° ìƒì„±

---

*ì‘ì„±ì¼: 2025-11-28*
*ë‹¤ìŒ Phase: [17_í†µí•©_ë¬¸ì œì€í–‰](37_phase17_unified_problem_bank_plan.md)*

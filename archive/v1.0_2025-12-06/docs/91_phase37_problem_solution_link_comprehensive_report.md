# Phase 37: ë¬¸ì œ-í•´ì„¤ ì—°ê²° ì‹œìŠ¤í…œ ì¢…í•© ë¶„ì„ ë¦¬í¬íŠ¸

**ì‘ì„±ì¼**: 2025-12-03
**ì‹¬ê°ë„**: ğŸ”´ ì•„í‚¤í…ì²˜ ë ˆë²¨ ë¬¸ì œ
**ìœ í˜•**: ë°ì´í„° ë™ê¸°í™” / ì‹œìŠ¤í…œ í†µí•© ì‹¤íŒ¨

---

## Executive Summary

í˜„ì¬ ì‹œìŠ¤í…œì—ëŠ” **ë‘ ê°œì˜ ë…ë¦½ì ì¸ ë¬¸ì œ-í•´ì„¤ ì—°ê²° ì‹œìŠ¤í…œ**ì´ ë³‘ë ¬ë¡œ ì¡´ì¬í•˜ë©°, ì„œë¡œ í†µì‹ í•˜ì§€ ì•Šì•„ **ë°ì´í„° ë¶ˆì¼ì¹˜**ê°€ ë°œìƒí•©ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     í˜„ì¬ ì•„í‚¤í…ì²˜ ë¬¸ì œì                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚   â”‚  Phase 22-K     â”‚    âœ—    â”‚  Phase 32       â”‚              â”‚
â”‚   â”‚  (PageViewer)   â”‚ â†â”€â”€â”€â†’   â”‚  (WorkSession)  â”‚              â”‚
â”‚   â”‚                 â”‚  ì—°ê²°   â”‚                 â”‚              â”‚
â”‚   â”‚  localGroups    â”‚  ì—†ìŒ   â”‚  session.links  â”‚              â”‚
â”‚   â”‚  .link ì €ì¥     â”‚         â”‚  ì €ì¥           â”‚              â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚         â†“                           â†“                          â”‚
â”‚   ìƒˆë¡œê³ ì¹¨ ì‹œ ì†ì‹¤ âŒ          ì˜êµ¬ ë³´ê´€ âœ…                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1. í† ìŠ¤ UX ì›ì¹™ìœ¼ë¡œ ë³¸ í˜„ì¬ ë¬¸ì œ

### 1.1 ì›ì¹™ ìœ„ë°˜ ë¶„ì„

| í† ìŠ¤ ì›ì¹™ | ê¸°ëŒ€ | í˜„ì‹¤ | ì‹¬ê°ë„ |
|-----------|------|------|--------|
| **ìë™í™”** | ê·¸ë£¹ ìƒì„± â†’ ìë™ ë™ê¸°í™” | ìˆ˜ë™ìœ¼ë¡œ ì—¬ëŸ¬ API í˜¸ì¶œ í•„ìš” | ğŸ”´ |
| **ì¼ê´€ì„±** | ëª¨ë“  íƒ­ì—ì„œ ê°™ì€ ë°ì´í„° | íƒ­ë§ˆë‹¤ ë‹¤ë¥¸ ë°ì´í„° ìƒíƒœ | ğŸ”´ |
| **ì¦‰ê° ë°˜ì‘** | ì—°ê²° ì¦‰ì‹œ ë°˜ì˜ | íƒ­ ì „í™˜/ìƒˆë¡œê³ ì¹¨ ì‹œ ë°ì´í„° ì†ì‹¤ | ğŸ”´ |
| **ì‹ ë¢°ì„±** | ì‘ì—… ê²°ê³¼ ì˜êµ¬ ë³´ê´€ | ìƒˆë¡œê³ ì¹¨í•˜ë©´ ì—°ê²° ì •ë³´ ì‚¬ë¼ì§ | ğŸ”´ |

### 1.2 ì‚¬ìš©ì ê´€ì  ë¬¸ì œ ì‹œë‚˜ë¦¬ì˜¤

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì‹œë‚˜ë¦¬ì˜¤: "ì„ ìƒë‹˜ì´ 20ë¶„ê°„ ë¬¸ì œ-í•´ì„¤ ë§¤ì¹­ ì‘ì—…"                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  1. ë¬¸ì œ íƒ­ì—ì„œ 30ê°œ ë¬¸ì œ ê·¸ë£¹í•‘ (G í‚¤)                         â”‚
â”‚     â†’ groups.jsonì— ì €ì¥ë¨ âœ…                                   â”‚
â”‚     â†’ session.problemsì—ëŠ” ì—†ìŒ âŒ                              â”‚
â”‚                                                                  â”‚
â”‚  2. í•´ì„¤ íƒ­ìœ¼ë¡œ ì „í™˜                                            â”‚
â”‚     â†’ syncProblems() í˜¸ì¶œ (Phase 36)                            â”‚
â”‚     â†’ 30ê°œ ë¬¸ì œê°€ session.problemsì— ë™ê¸°í™” âœ…                  â”‚
â”‚                                                                  â”‚
â”‚  3. í•´ì„¤ íƒ­ì—ì„œ 30ê°œ ë§¤ì¹­ ì‘ì—…                                  â”‚
â”‚     â†’ localGroups.linkì— ì €ì¥ë¨ âœ…                              â”‚
â”‚     â†’ session.linksì—ëŠ” ì €ì¥ ì•ˆ ë¨ âŒ                           â”‚
â”‚                                                                  â”‚
â”‚  4. ì‹¤ìˆ˜ë¡œ ë¸Œë¼ìš°ì € ìƒˆë¡œê³ ì¹¨ (ë˜ëŠ” ë‹¤ìŒ ë‚  ì¬ì ‘ì†)              â”‚
â”‚     â†’ session.problems: 30ê°œ ìœ ì§€ âœ…                            â”‚
â”‚     â†’ session.links: 0ê°œ âŒ (ì—°ê²° ì •ë³´ ì†ì‹¤!)                   â”‚
â”‚                                                                  â”‚
â”‚  5. ë¯¸ì—°ê²° ë°”: "1ë²ˆ 2ë²ˆ ... 30ë²ˆ" (ëª¨ë‘ ë¯¸ì—°ê²°ë¡œ í‘œì‹œ)          â”‚
â”‚     â†’ 20ë¶„ê°„ì˜ ì‘ì—… ê²°ê³¼ê°€ ì‚¬ë¼ì§ ğŸ’€                            â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. í˜„ì¬ ì•„í‚¤í…ì²˜ ì‹¬ì¸µ ë¶„ì„

### 2.1 ë‘ ê°œì˜ ë³‘ë ¬ ì‹œìŠ¤í…œ

#### System A: Phase 22-K (PageViewer ê¸°ë°˜)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 22-K: ë¡œì»¬ ë§¤ì¹­ ì‹œìŠ¤í…œ                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  [ë¬¸ì œ íƒ­]                        [í•´ì„¤ íƒ­]                      â”‚
â”‚  PageViewer                       PageViewer                     â”‚
â”‚      â†“                               â†“                           â”‚
â”‚  handleCreateGroup()              handleCreateGroup()            â”‚
â”‚      â†“                               â†“                           â”‚
â”‚  onProblemLabeled()               onSolutionLabeled()            â”‚
â”‚      â†“                               â†“                           â”‚
â”‚  useAutoMatching                  useAutoMatching                â”‚
â”‚      â†“                               â†“                           â”‚
â”‚  BroadcastChannel â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ BroadcastChannel              â”‚
â”‚      â†“                               â†“                           â”‚
â”‚  pendingProblems                  handleLinkGroup()              â”‚
â”‚  (ë©”ëª¨ë¦¬)                             â†“                          â”‚
â”‚                                   localGroups.link               â”‚
â”‚                                   (ë©”ëª¨ë¦¬ + groups.json)         â”‚
â”‚                                                                  â”‚
â”‚  ì €ì¥ ìœ„ì¹˜: MatchingSession (ì„ì‹œ) + groups.json                â”‚
â”‚  WorkSession ì—°ë™: âŒ ì—†ìŒ                                       â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### System B: Phase 32 (WorkSession ê¸°ë°˜)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 32: êµ¬ì¡°í™”ëœ ë§¤ì¹­ ì‹œìŠ¤í…œ                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  [ë¬¸ì œ ì„ íƒ]                      [í•´ì„¤ ê·¸ë£¹í•‘]                  â”‚
â”‚  ProblemListPanel                 PageViewer                     â”‚
â”‚      â†“                               â†“                           â”‚
â”‚  selectProblem()                  handleGroupCreate()            â”‚
â”‚      â†“                               â†“                           â”‚
â”‚  selectedProblemId                createLink()                   â”‚
â”‚      â†“                               â†“                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’  WorkSession.links              â”‚
â”‚                                   (ì˜êµ¬ ì €ì¥)                    â”‚
â”‚                                                                  â”‚
â”‚  ì €ì¥ ìœ„ì¹˜: sessions/{id}.json                                  â”‚
â”‚  WorkSession ì—°ë™: âœ… ì™„ë²½                                       â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ë°ì´í„° íë¦„ ë¶ˆì¼ì¹˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ë°ì´í„° ì €ì¥ í˜„í™©                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  groups.json  â”‚    â”‚ MatchingSessionâ”‚    â”‚ WorkSession   â”‚    â”‚
â”‚  â”‚  (per page)   â”‚    â”‚  (ì„ì‹œ)        â”‚    â”‚  (ì˜êµ¬)       â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ groups: [     â”‚    â”‚ pending: []   â”‚    â”‚ problems: []  â”‚    â”‚
â”‚  â”‚   {           â”‚    â”‚ matches: []   â”‚    â”‚ links: []     â”‚    â”‚
â”‚  â”‚     id,       â”‚    â”‚               â”‚    â”‚               â”‚    â”‚
â”‚  â”‚     block_ids,â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  â”‚     link â† âœ… â”‚         â†‘                      â†‘             â”‚
â”‚  â”‚   }           â”‚         â”‚                      â”‚             â”‚
â”‚  â”‚ ]             â”‚         â”‚                      â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚                      â”‚             â”‚
â”‚         â†‘                  â”‚                      â”‚             â”‚
â”‚         â”‚                  â”‚                      â”‚             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚                    Phase 22-K                          â”‚      â”‚
â”‚  â”‚  handleLinkGroup() â†’ localGroups.link                 â”‚      â”‚
â”‚  â”‚                    â†’ groups.json âœ…                    â”‚      â”‚
â”‚  â”‚                    â†’ MatchingSession âœ…                â”‚      â”‚
â”‚  â”‚                    â†’ WorkSession âŒ (ëˆ„ë½!)            â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚                    Phase 32                            â”‚      â”‚
â”‚  â”‚  createLink() â†’ WorkSession.links âœ…                  â”‚      â”‚
â”‚  â”‚              â†’ groups.json âŒ (ë¯¸ë™ê¸°í™”)               â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. í•µì‹¬ ì½”ë“œ ë¶„ì„

### 3.1 handleLinkGroup (ë¬¸ì œì˜ ê·¼ì›)

**íŒŒì¼**: `frontend/src/pages/PageViewer.tsx` (Lines 102-114)

```typescript
const handleLinkGroup = useCallback((groupId: string, link: GroupLink) => {
  setLocalGroups(prev => prev.map(g => {
    if (g.id === groupId) {
      return {
        ...g,
        link  // âœ… localGroupsì—ë§Œ ì €ì¥
      };
    }
    return g;
  }));
  console.log(`[Phase 22-K] Linked group ${groupId} to ${link.linkedGroupId}`);

  // âŒ ëˆ„ë½ëœ ì½”ë“œ:
  // await createSessionLink({
  //   problemGroupId: link.linkedGroupId,
  //   solutionGroupId: groupId,
  //   solutionDocumentId: documentId,
  //   solutionPageIndex: currentPage
  // });
}, []);
```

**ë¬¸ì œ**: `WorkSession.links`ì— ì €ì¥í•˜ëŠ” `createLink()` í˜¸ì¶œì´ ì—†ìŒ

### 3.2 onSolutionLabeled (ë§¤ì¹­ ì‹œì )

**íŒŒì¼**: `frontend/src/hooks/useAutoMatching.ts` (Lines 253-328)

```typescript
const onSolutionLabeled = useCallback(async (group: ProblemGroup) => {
  // ê°€ì¥ ì˜¤ë˜ëœ ëŒ€ê¸° ë¬¸ì œì™€ ë§¤ì¹­
  const oldestPending = pendingRef.current[0];

  // âœ… ë¡œì»¬ ìƒíƒœì— link ì €ì¥
  onLinkGroup?.(group.id, {
    linkedGroupId: oldestPending.groupId,
    linkedDocumentId: oldestPending.documentId,
    // ...
  });

  // âœ… MatchingSessionì— ì €ì¥ (ì„ì‹œ)
  await api.addMatch(sessionId, problem, solution);

  // âŒ ëˆ„ë½: WorkSessionì— ì €ì¥ ì•ˆ í•¨
  // await api.createSessionLink(workSessionId, {...});
}, []);
```

**ë¬¸ì œ**: `api.addMatch()`ëŠ” MatchingSessionì—ë§Œ ì €ì¥, WorkSessionê³¼ ë³„ê°œ

### 3.3 syncProblems (link ì •ë³´ ë¬´ì‹œ)

**íŒŒì¼**: `backend/app/routers/work_sessions.py` (Lines 390-426)

```python
for group in data.get("groups", []):
    group_id = group.get("id")
    problem_info = group.get("problemInfo", {})

    # âœ… ë¬¸ì œ ì •ë³´ëŠ” ì½ìŒ
    problem_number = problem_info.get("problemNumber")

    # âŒ link ì •ë³´ëŠ” ì½ì§€ ì•ŠìŒ!
    # link = group.get("link")  â† ì´ ì½”ë“œê°€ ì—†ìŒ

    new_problems.append(ProblemReference(
        groupId=group_id,
        problemNumber=problem_number,
        # ...
    ))
```

**ë¬¸ì œ**: `groups.json`ì— ì €ì¥ëœ `link` í•„ë“œë¥¼ ì½ì§€ ì•Šì•„ ì—°ê²° ì •ë³´ ë³µì› ë¶ˆê°€

### 3.4 useUnlinkedProblems (ë¶ˆì™„ì „í•œ ë°ì´í„° ì†ŒìŠ¤)

**íŒŒì¼**: `frontend/src/stores/workSessionStore.ts` (Lines 480-489)

```typescript
export function useUnlinkedProblems() {
  const problems = useWorkSessionStore(state => state.currentSession?.problems);
  const links = useWorkSessionStore(state => state.currentSession?.links);

  return useMemo(() => {
    // âœ… WorkSession.linksë§Œ í™•ì¸
    const linkedIds = new Set((links ?? []).map(l => l.problemGroupId));

    // âŒ localGroups.linkëŠ” í™•ì¸ ì•ˆ í•¨
    // âŒ groups.jsonì˜ link í•„ë“œë„ í™•ì¸ ì•ˆ í•¨

    return problems.filter(p => !linkedIds.has(p.groupId));
  }, [problems, links]);
}
```

**ë¬¸ì œ**: Phase 22-Kì—ì„œ ìƒì„±í•œ link ì •ë³´ë¥¼ ì¸ì‹í•˜ì§€ ëª»í•¨

---

## 4. ë°ì´í„° ë¶ˆì¼ì¹˜ ì‹œë‚˜ë¦¬ì˜¤

### 4.1 ì‹œë‚˜ë¦¬ì˜¤ A: Phase 22-Kë§Œ ì‚¬ìš©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 22-K ë§¤ì¹­ ì›Œí¬í”Œë¡œìš°                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Step 1: ë¬¸ì œ íƒ­ì—ì„œ ê·¸ë£¹ ìƒì„±                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚  â†’ groups.json âœ…                                               â”‚
â”‚  â†’ pendingProblems (ë©”ëª¨ë¦¬) âœ…                                  â”‚
â”‚  â†’ BroadcastChannel ì „ì†¡ âœ…                                     â”‚
â”‚  â†’ WorkSession.problems âŒ                                      â”‚
â”‚                                                                  â”‚
â”‚  Step 2: í•´ì„¤ íƒ­ì—ì„œ ê·¸ë£¹ ìƒì„± (ìë™ ë§¤ì¹­)                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚  â†’ groups.json (with link) âœ…                                   â”‚
â”‚  â†’ localGroups.link âœ…                                          â”‚
â”‚  â†’ MatchingSession.matches âœ…                                   â”‚
â”‚  â†’ WorkSession.links âŒ                                         â”‚
â”‚                                                                  â”‚
â”‚  Step 3: ë¸Œë¼ìš°ì € ìƒˆë¡œê³ ì¹¨                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                  â”‚
â”‚  â†’ groups.json ë¡œë“œ âœ…                                          â”‚
â”‚  â†’ localGroups ë³µì› âœ…                                          â”‚
â”‚  â†’ localGroups.link? âŒ (ë³µì› ì•ˆ ë¨)                            â”‚
â”‚  â†’ WorkSession.links ë¹ˆ ìƒíƒœ âŒ                                 â”‚
â”‚                                                                  â”‚
â”‚  ê²°ê³¼: ì—°ê²° ì •ë³´ ì†ì‹¤ ğŸ’€                                        â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 ì‹œë‚˜ë¦¬ì˜¤ B: Phase 32ë§Œ ì‚¬ìš© (ì •ìƒ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Phase 32 WorkSession ì›Œí¬í”Œë¡œìš°                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Step 1: ë¬¸ì œ ì„ íƒ (ë¯¸ì—°ê²° ë°”)                                  â”‚
â”‚  â†’ selectedProblemId ì„¤ì • âœ…                                    â”‚
â”‚                                                                  â”‚
â”‚  Step 2: í•´ì„¤ ê·¸ë£¹ ìƒì„±                                         â”‚
â”‚  â†’ groups.json âœ…                                               â”‚
â”‚  â†’ createLink() âœ…                                              â”‚
â”‚  â†’ WorkSession.links âœ…                                         â”‚
â”‚                                                                  â”‚
â”‚  Step 3: ë¸Œë¼ìš°ì € ìƒˆë¡œê³ ì¹¨                                      â”‚
â”‚  â†’ WorkSession ë¡œë“œ âœ…                                          â”‚
â”‚  â†’ session.links ë³µì› âœ…                                        â”‚
â”‚                                                                  â”‚
â”‚  ê²°ê³¼: ì •ìƒ ë™ì‘ âœ…                                             â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 ì‹œë‚˜ë¦¬ì˜¤ C: í˜¼í•© ì‚¬ìš© (ë¬¸ì œ ë°œìƒ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  í˜¼í•© ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  1. Phase 22-Kë¡œ 10ê°œ ë§¤ì¹­                                      â”‚
â”‚     â†’ localGroups.link: 10ê°œ âœ…                                 â”‚
â”‚     â†’ WorkSession.links: 0ê°œ âŒ                                 â”‚
â”‚                                                                  â”‚
â”‚  2. í•´ì„¤ íƒ­ì˜ ë¯¸ì—°ê²° ë°” í™•ì¸                                    â”‚
â”‚     â†’ useUnlinkedProblems()                                     â”‚
â”‚     â†’ WorkSession.links í™•ì¸: 0ê°œ                               â”‚
â”‚     â†’ "ë¯¸ì—°ê²°: 10ê°œ" í‘œì‹œ âŒ (ì´ë¯¸ ë§¤ì¹­í–ˆëŠ”ë°!)                 â”‚
â”‚                                                                  â”‚
â”‚  3. Phase 32ë¡œ ê°™ì€ ë¬¸ì œ ë‹¤ì‹œ ë§¤ì¹­ ì‹œë„                         â”‚
â”‚     â†’ createLink() í˜¸ì¶œ                                         â”‚
â”‚     â†’ WorkSession.links: 1ê°œ                                    â”‚
â”‚     â†’ ì¤‘ë³µ ë§¤ì¹­ ë°ì´í„° ë°œìƒ ğŸ’€                                  â”‚
â”‚                                                                  â”‚
â”‚  4. ìƒˆë¡œê³ ì¹¨                                                    â”‚
â”‚     â†’ WorkSession.links: Phase 32 ë§¤ì¹­ë§Œ ë‚¨ìŒ                   â”‚
â”‚     â†’ Phase 22-K ë§¤ì¹­: ì†ì‹¤                                     â”‚
â”‚                                                                  â”‚
â”‚  ê²°ê³¼: ë°ì´í„° ë¶ˆì¼ì¹˜ + ì¤‘ë³µ + ì†ì‹¤                              â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. UX/UI ê°œì„  ì œì•ˆ

### 5.1 í† ìŠ¤ ìŠ¤íƒ€ì¼ ì›Œí¬í”Œë¡œìš° ì¬ì„¤ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ì œì•ˆ: í†µí•© ì›Œí¬í”Œë¡œìš°                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  [AS-IS: ë‘ ê°œì˜ ë¶„ë¦¬ëœ ì‹œìŠ¤í…œ]                                 â”‚
â”‚                                                                  â”‚
â”‚  ë¬¸ì œ íƒ­ â”€â†’ Phase 22-K â”€â†’ ì„ì‹œ ì €ì¥ â”€â†’ ì†ì‹¤ ê°€ëŠ¥               â”‚
â”‚  í•´ì„¤ íƒ­ â”€â†’ Phase 32   â”€â†’ ì˜êµ¬ ì €ì¥ â”€â†’ ì•ˆì „                    â”‚
â”‚                                                                  â”‚
â”‚  [TO-BE: ë‹¨ì¼ í†µí•© ì‹œìŠ¤í…œ]                                      â”‚
â”‚                                                                  â”‚
â”‚  ë¬¸ì œ íƒ­ â”€â”                                                     â”‚
â”‚          â”œâ”€â†’ í†µí•© ì €ì¥ì†Œ â”€â†’ WorkSession â”€â†’ ì˜êµ¬ ë³´ê´€           â”‚
â”‚  í•´ì„¤ íƒ­ â”€â”˜      â”‚                                              â”‚
â”‚                  â†“                                               â”‚
â”‚            ìë™ ë™ê¸°í™” (Optimistic UI)                          â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 ì‚¬ìš©ì ê²½í—˜ ê°œì„  ë°©í–¥

| í˜„ì¬ ë¬¸ì œ | ê°œì„  ë°©í–¥ | í† ìŠ¤ ì›ì¹™ |
|-----------|-----------|-----------|
| ìˆ˜ë™ ë™ê¸°í™” í•„ìš” | ìë™ ë™ê¸°í™” | **ìë™í™”** |
| ë°ì´í„° ì†ì‹¤ ê°€ëŠ¥ | ì¦‰ì‹œ ì˜êµ¬ ì €ì¥ | **ì‹ ë¢°ì„±** |
| íƒ­ë§ˆë‹¤ ë‹¤ë¥¸ ìƒíƒœ | ì „ì—­ ë‹¨ì¼ ìƒíƒœ | **ì¼ê´€ì„±** |
| ìƒˆë¡œê³ ì¹¨ ì‹œ ì†ì‹¤ | ì„¸ì…˜ ë³µì› | **ì—°ì†ì„±** |
| ë§¤ì¹­ ìƒíƒœ ë¶ˆëª…í™• | ì‹¤ì‹œê°„ í”¼ë“œë°± | **ì¦‰ê° ë°˜ì‘** |

### 5.3 ê¶Œì¥ UI ê°œì„ 

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë¯¸ì—°ê²° ë¬¸ì œ ë°” ê°œì„                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  [í˜„ì¬]                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ë¯¸ì—°ê²°: [1ë²ˆ] [2ë²ˆ] [3ë²ˆ] [4ë²ˆ] [5ë²ˆ]                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  ë¬¸ì œì : ì‹¤ì œë¡œëŠ” 1-3ë²ˆì´ ë§¤ì¹­ëëŠ”ë° í‘œì‹œ ì•ˆ ë¨                 â”‚
â”‚                                                                  â”‚
â”‚  [ê°œì„ ì•ˆ]                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ì—°ê²°: âœ… 1ë²ˆ âœ… 2ë²ˆ âœ… 3ë²ˆ                               â”‚   â”‚
â”‚  â”‚ ë¯¸ì—°ê²°: [4ë²ˆ ì„ íƒ] [5ë²ˆ]                                 â”‚   â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”‚   â”‚
â”‚  â”‚ ì§„í–‰ë¥ : â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 60% (3/5)                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. í•´ê²° ë°©ì•ˆ

### 6.1 ë°©ì•ˆ 1: Phase 22-Kì—ì„œ WorkSession ì—°ë™ (ê¶Œì¥)

**ìˆ˜ì • ìœ„ì¹˜**: `frontend/src/pages/PageViewer.tsx`

```typescript
// handleLinkGroup ìˆ˜ì •
const handleLinkGroup = useCallback(async (groupId: string, link: GroupLink) => {
  // 1. ë¡œì»¬ ìƒíƒœ ì—…ë°ì´íŠ¸ (Optimistic UI)
  setLocalGroups(prev => prev.map(g =>
    g.id === groupId ? { ...g, link } : g
  ));

  // 2. WorkSessionì— ì €ì¥ (ì˜êµ¬)
  try {
    await createLink({
      problemGroupId: link.linkedGroupId,
      solutionGroupId: groupId,
      solutionDocumentId: documentId,
      solutionPageIndex: currentPage,
    });
    console.log('[Phase 37] Link saved to WorkSession');
  } catch (error) {
    console.error('[Phase 37] Failed to save link:', error);
    // ë¡¤ë°± ë¡œì§
  }
}, [documentId, currentPage, createLink]);
```

**ì¥ì **: ìµœì†Œ ìˆ˜ì •, ê¸°ì¡´ ì›Œí¬í”Œë¡œìš° ìœ ì§€
**ë‹¨ì **: createLink í•¨ìˆ˜ë¥¼ PageViewerì— ì „ë‹¬í•´ì•¼ í•¨

### 6.2 ë°©ì•ˆ 2: syncProblemsì—ì„œ link ì •ë³´ ë³µì›

**ìˆ˜ì • ìœ„ì¹˜**: `backend/app/routers/work_sessions.py`

```python
# sync_problems_from_groups ìˆ˜ì •
for group in data.get("groups", []):
    group_id = group.get("id")

    # link ì •ë³´ ì½ê¸°
    link = group.get("link")
    if link and group_id not in existing_link_ids:
        new_links.append(ProblemSolutionLink(
            problemGroupId=link.get("linkedGroupId"),
            solutionGroupId=group_id,
            solutionDocumentId=link.get("linkedDocumentId"),
            solutionPageIndex=link.get("linkedPageIndex"),
        ))

session.links.extend(new_links)
```

**ì¥ì **: ê¸°ì¡´ ë°ì´í„° ë³µì› ê°€ëŠ¥
**ë‹¨ì **: ì‹¤ì‹œê°„ ë™ê¸°í™”ëŠ” ì•„ë‹˜

### 6.3 ë°©ì•ˆ 3: ë‹¨ì¼ ì €ì¥ì†Œ í†µí•© (ì¥ê¸°)

**ì•„í‚¤í…ì²˜ ë³€ê²½**:
```
groups.json + WorkSession â†’ í†µí•© ì €ì¥ì†Œ
```

ëª¨ë“  ê·¸ë£¹ê³¼ ë§í¬ ì •ë³´ë¥¼ ë‹¨ì¼ ì €ì¥ì†Œì—ì„œ ê´€ë¦¬

**ì¥ì **: ì™„ë²½í•œ ì¼ê´€ì„±
**ë‹¨ì **: ëŒ€ê·œëª¨ ë¦¬íŒ©í† ë§ í•„ìš”

---

## 7. ê¶Œì¥ êµ¬í˜„ ìš°ì„ ìˆœìœ„

### Phase 37-A: ê¸´ê¸‰ ìˆ˜ì • (ì¦‰ì‹œ)

```
ëª©í‘œ: Phase 22-K ë§í¬ë¥¼ WorkSessionì— ì €ì¥

ìˆ˜ì • íŒŒì¼:
1. PageViewer.tsx - handleLinkGroupì— createLink ì¶”ê°€
2. useAutoMatching.ts - onSolutionLabeledì— createLink ì¶”ê°€

ì˜ˆìƒ ì‹œê°„: 30ë¶„
```

### Phase 37-B: ë°ì´í„° ë³µì› (1ì¼)

```
ëª©í‘œ: groups.jsonì˜ link ì •ë³´ë¥¼ WorkSessionìœ¼ë¡œ ë™ê¸°í™”

ìˆ˜ì • íŒŒì¼:
1. work_sessions.py - sync_problemsì— link ë™ê¸°í™” ì¶”ê°€
2. workSessionStore.ts - syncProblems í˜¸ì¶œ ì‹œ linksë„ ì—…ë°ì´íŠ¸

ì˜ˆìƒ ì‹œê°„: 2ì‹œê°„
```

### Phase 37-C: UX ê°œì„  (1ì£¼)

```
ëª©í‘œ: í† ìŠ¤ ìŠ¤íƒ€ì¼ í†µí•© ì›Œí¬í”Œë¡œìš°

ì‘ì—…:
1. ë¯¸ì—°ê²° ë°” UI ê°œì„ 
2. ì‹¤ì‹œê°„ ì§„í–‰ë¥  í‘œì‹œ
3. Optimistic UI ì ìš©
4. ì—ëŸ¬ ë³µêµ¬ ë¡œì§

ì˜ˆìƒ ì‹œê°„: 1ì£¼
```

---

## 8. ì²´í¬ë¦¬ìŠ¤íŠ¸

### ì¦‰ì‹œ í•„ìš” (Phase 37-A)

```
[ ] handleLinkGroupì—ì„œ createLink API í˜¸ì¶œ
[ ] onSolutionLabeledì—ì„œ createLink API í˜¸ì¶œ
[ ] PageViewerì— workSessionStore ì—°ê²°
[ ] ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡¤ë°± ë¡œì§
```

### ë°ì´í„° ë³µì› (Phase 37-B)

```
[ ] sync_problemsì—ì„œ link í•„ë“œ ì½ê¸°
[ ] WorkSession.links ì—…ë°ì´íŠ¸
[ ] ì¤‘ë³µ link ì²˜ë¦¬ ë¡œì§
[ ] ê¸°ì¡´ ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜
```

### UX ê°œì„  (Phase 37-C)

```
[ ] ì—°ê²°ëœ ë¬¸ì œ í‘œì‹œ UI
[ ] ì§„í–‰ë¥  ë°”
[ ] Optimistic UI
[ ] ì—°ê²° ì·¨ì†Œ ê¸°ëŠ¥
```

---

## 9. ê²°ë¡ 

### 9.1 ê·¼ë³¸ ì›ì¸

```
Phase 22-K ì‹œìŠ¤í…œì´ WorkSessionê³¼ í†µì‹ í•˜ì§€ ì•ŠìŒ
â†’ localGroups.linkëŠ” ì €ì¥ë˜ì§€ë§Œ
â†’ WorkSession.linksì—ëŠ” ì €ì¥ ì•ˆ ë¨
â†’ ìƒˆë¡œê³ ì¹¨/íƒ­ ì „í™˜ ì‹œ link ì •ë³´ ì†ì‹¤
```

### 9.2 í•µì‹¬ ìˆ˜ì • í¬ì¸íŠ¸

| ìš°ì„ ìˆœìœ„ | íŒŒì¼ | í•¨ìˆ˜ | ìˆ˜ì • ë‚´ìš© |
|---------|------|------|----------|
| ğŸ”´ P0 | PageViewer.tsx | handleLinkGroup | createLink API í˜¸ì¶œ ì¶”ê°€ |
| ğŸ”´ P0 | useAutoMatching.ts | onSolutionLabeled | createLink API í˜¸ì¶œ ì¶”ê°€ |
| ğŸŸ¡ P1 | work_sessions.py | sync_problems | link í•„ë“œ ë™ê¸°í™” |
| ğŸŸ¢ P2 | workSessionStore.ts | useUnlinkedProblems | localGroups.link ê³ ë ¤ |

### 9.3 í† ìŠ¤ UX ì›ì¹™ ì ìš©

```
âœ… ìë™í™”: ê·¸ë£¹ ìƒì„± ì‹œ ìë™ìœ¼ë¡œ ì˜êµ¬ ì €ì¥
âœ… ì¼ê´€ì„±: ëª¨ë“  íƒ­ì—ì„œ ë™ì¼í•œ ë°ì´í„°
âœ… ì¦‰ê° ë°˜ì‘: Optimistic UIë¡œ ì¦‰ì‹œ í”¼ë“œë°±
âœ… ì‹ ë¢°ì„±: ìƒˆë¡œê³ ì¹¨í•´ë„ ë°ì´í„° ìœ ì§€
```

---

*ìŠ¹ì¸ ì‹œ "Phase 37-A ì§„í–‰í•´ì¤˜"ë¡œ ê¸´ê¸‰ ìˆ˜ì • ì‹œì‘*

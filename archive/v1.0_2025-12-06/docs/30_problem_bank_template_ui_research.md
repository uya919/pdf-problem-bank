# 문제은행 → 템플릿 시스템 UI/UX 연구 리포트

**날짜**: 2025-11-27
**요청**: 문제은행에서 원하는 문제를 선택하여 템플릿에 배치하는 시스템
**분석 도구**: 유사 프로그램 UI/UX 벤치마킹

---

## 1. 개요

### 사용자 요구사항
> "문제은행에서 내가 원하는 문제만 골라서 특정 템플릿에 적당히 넣어주는 시스템"

### 핵심 기능 분류
| 영역 | 기능 |
|------|------|
| **문제 선택** | 필터링, 검색, 카테고리 탐색, 미리보기 |
| **템플릿 편집** | 드래그 앤 드롭, 레이아웃 조정, 배치 |
| **출력** | PDF 생성, 인쇄, 저장 |

---

## 2. 벤치마킹 프로그램 분석

### 2.1 Canva (템플릿 에디터의 표준)

**핵심 UI 패턴**:
```
┌─────────────────────────────────────────────────────────────┐
│ [Templates] [Elements] [Uploads] [Text]    ← 좌측 패널 탭   │
├────────────┬────────────────────────────────────────────────┤
│            │                                                │
│  요소 목록  │           캔버스 (드래그 앤 드롭)               │
│  (썸네일)   │                                                │
│            │     ┌─────────────┐                            │
│  - 검색바   │     │   문제 1    │  ← 드래그로 배치           │
│  - 카테고리 │     └─────────────┘                            │
│  - 필터     │     ┌─────────────┐                            │
│            │     │   문제 2    │                            │
│            │     └─────────────┘                            │
│            │                                                │
├────────────┴────────────────────────────────────────────────┤
│ [Download] [Share] [Print]                  ← 상단 액션 바  │
└─────────────────────────────────────────────────────────────┘
```

**Canva에서 배울 점**:
1. **즉시 미리보기**: 요소 위에 마우스 오버 시 확대 미리보기
2. **드래그 앤 드롭**: 직관적인 배치, 스냅 가이드라인
3. **실시간 편집**: 크기 조절, 회전, 정렬 핸들
4. **템플릿 라이브러리**: 시작점 제공으로 진입 장벽 낮춤
5. **검색 + 필터 조합**: 키워드 검색과 카테고리 필터 동시 지원

---

### 2.2 시험지 제작 프로그램 (OnlineExamMaker, ClassMarker, iSpring)

**공통 워크플로우**:
```
1. 문제은행 구축 → 2. 문제 선택 → 3. 시험지 구성 → 4. 출력
```

**OnlineExamMaker UI 패턴**:
```
┌────────────────────────────────────────────────────────────┐
│  문제 유형: [객관식 ▾] [주관식 ▾] [서술형 ▾]               │
│  난이도:    [상 ▾] [중 ▾] [하 ▾]                          │
│  단원:      [1단원 ▾] [2단원 ▾] ...                        │
├────────────────────────────────────────────────────────────┤
│  □ 문제 1: 다음 중 옳은 것은?         [미리보기] [추가]    │
│  □ 문제 2: x + 5 = 10의 해를 구하시오  [미리보기] [추가]    │
│  ☑ 문제 3: 삼각형의 넓이 공식은?       [미리보기] [제거]    │
├────────────────────────────────────────────────────────────┤
│  선택된 문제: 3개                      [시험지 생성 →]     │
└────────────────────────────────────────────────────────────┘
```

**ClassMarker 특징**:
- **문제 풀**: 태그 기반 정리
- **무작위 추출**: 조건에 맞는 문제 자동 선택
- **섞기 옵션**: 문제 순서, 보기 순서 무작위화
- **점수 배분**: 문제별 배점 설정

**iSpring QuizMaker**:
- **비주얼 에디터**: WYSIWYG 방식의 문제 편집
- **브랜딩**: 로고, 색상 커스터마이징
- **미디어 지원**: 이미지, 오디오, 비디오 삽입

---

### 2.3 한국형 문제은행 (EBSi, 천재교육)

**EBSi 문제은행 UI**:
```
┌───────────────────────────────────────────────────────────┐
│ 과목: [수학 I ▾]  단원: [삼각함수 ▾]  난이도: [⭐⭐⭐]     │
├───────────────────────────────────────────────────────────┤
│                                                           │
│  ┌─────────────────┐  ┌─────────────────┐                │
│  │ 📄 2024 수능    │  │ 📄 2023 수능    │                │
│  │ 15번 문제       │  │ 21번 문제       │                │
│  │ [미리보기] [+]  │  │ [미리보기] [+]  │                │
│  └─────────────────┘  └─────────────────┘                │
│                                                           │
│  ┌─────────────────┐  ┌─────────────────┐                │
│  │ 📄 2024 6평     │  │ 📄 모의고사     │                │
│  │ 12번 문제       │  │ 8번 문제        │                │
│  │ [미리보기] [+]  │  │ [미리보기] [+]  │                │
│  └─────────────────┘  └─────────────────┘                │
│                                                           │
├───────────────────────────────────────────────────────────┤
│ 🛒 선택된 문제 (4개)              [시험지 만들기]         │
└───────────────────────────────────────────────────────────┘
```

**EBSi에서 배울 점**:
1. **출처 정보**: 연도, 시험명, 문제 번호 명확히 표시
2. **카드 UI**: 그리드 레이아웃으로 한눈에 파악
3. **장바구니 패턴**: 선택한 문제를 별도 영역에서 관리
4. **단원별 분류**: 교육과정과 연계된 체계적 분류

---

### 2.4 워크시트 생성기 (Storyboard That, MagicSchool)

**Storyboard That**:
- **씬 기반 편집**: 칸 단위로 콘텐츠 배치
- **에셋 라이브러리**: 캐릭터, 배경, 소품 드래그
- **레이아웃 프리셋**: 1칸, 2칸, 3칸 등 선택

**MagicSchool AI**:
- **AI 추천**: 학습 목표 입력 시 관련 문제 추천
- **자동 배치**: 선택한 문제를 자동으로 레이아웃

---

## 3. UI/UX 패턴 분석

### 3.1 문제 선택 UI 패턴

#### 패턴 A: 필터 + 리스트 (전통적)
```
┌─────────────────────────────────────────────┐
│  [필터 패널]           │  [문제 리스트]     │
│  - 과목               │  □ 문제 1         │
│  - 단원               │  □ 문제 2         │
│  - 난이도             │  ☑ 문제 3         │
│  - 문제 유형          │  □ 문제 4         │
└─────────────────────────────────────────────┘
```
- **장점**: 익숙함, 대량 선택에 효율적
- **단점**: 미리보기 어려움, 시각적 매력 낮음

#### 패턴 B: 그리드 카드 (시각적)
```
┌─────────────────────────────────────────────┐
│  [검색바 + 필터 태그]                        │
│  ┌────┐ ┌────┐ ┌────┐ ┌────┐               │
│  │ 📄 │ │ 📄 │ │ 📄 │ │ 📄 │               │
│  │ Q1 │ │ Q2 │ │ Q3 │ │ Q4 │               │
│  └────┘ └────┘ └────┘ └────┘               │
└─────────────────────────────────────────────┘
```
- **장점**: 썸네일로 빠른 식별, 직관적
- **단점**: 많은 문제 탐색 시 스크롤 많음

#### 패턴 C: 2단계 선택 (하이브리드)
```
1단계: 카테고리 트리로 범위 축소
2단계: 해당 범위 내 그리드 카드로 선택
```
- **장점**: 체계적 + 시각적 조합
- **단점**: 학습 곡선 있음

### 3.2 템플릿 편집 UI 패턴

#### 패턴 A: 자유 캔버스 (Canva 스타일)
```
- 드래그로 자유 배치
- 가이드라인으로 정렬 보조
- 크기/회전 자유롭게 조절
```
- **장점**: 창의적 레이아웃 가능
- **단점**: 복잡함, 정렬에 시간 소요

#### 패턴 B: 슬롯 기반 (시험지 스타일)
```
┌─────────────────────────────────────────────┐
│  [슬롯 1: 문제 드롭]  ← 여기에 드래그        │
│  [슬롯 2: 문제 드롭]                         │
│  [슬롯 3: 문제 드롭]                         │
│  [+ 슬롯 추가]                               │
└─────────────────────────────────────────────┘
```
- **장점**: 간단, 일관된 결과
- **단점**: 자유도 낮음

#### 패턴 C: 자동 배치 (AI/규칙 기반)
```
선택한 문제 → [배치 규칙 설정] → 자동 생성
```
- **장점**: 빠름, 초보자 친화적
- **단점**: 세밀한 조정 어려움

---

## 4. 추천 UI/UX 설계

### 4.1 전체 레이아웃 제안

```
┌─────────────────────────────────────────────────────────────────────┐
│  📚 문제은행 시험지 제작                    [저장] [PDF] [인쇄]     │
├──────────────────┬──────────────────────────────────────────────────┤
│                  │                                                  │
│   🔍 검색...     │          📄 시험지 미리보기                      │
│                  │                                                  │
│   ── 필터 ──     │     ┌──────────────────────────┐                │
│   과목: [전체 ▾] │     │ 1. [문제 1 이미지]      │                │
│   단원: [전체 ▾] │     │                          │                │
│   난이도: ⭐⭐⭐  │     │ 2. [문제 2 이미지]      │                │
│                  │     │                          │                │
│   ── 문제 ──     │     │ 3. [여기에 문제 드롭]   │  ← 드롭 영역   │
│   ┌────┐ ┌────┐ │     │                          │                │
│   │ Q1 │ │ Q2 │ │     └──────────────────────────┘                │
│   └────┘ └────┘ │                                                  │
│   ┌────┐ ┌────┐ │     ─────────────────────────────                │
│   │ Q3 │ │ Q4 │ │     🛒 선택된 문제: 2개                          │
│   └────┘ └────┘ │     [자동 배치] [순서 변경] [초기화]             │
│                  │                                                  │
└──────────────────┴──────────────────────────────────────────────────┘
```

### 4.2 핵심 UI 컴포넌트

#### 1) 문제 카드 컴포넌트
```
┌──────────────────────────┐
│  [문제 썸네일 이미지]     │  ← 클릭 시 확대 미리보기
│                          │
│  📖 중2 / 1단원          │  ← 메타데이터
│  ⭐⭐ 중                  │  ← 난이도
│  [드래그] [미리보기]      │  ← 액션 버튼
└──────────────────────────┘
```

#### 2) 필터 패널
```
과목: [수학 ▾]
  └─ 단원: [□ 1단원] [☑ 2단원] [□ 3단원]

난이도: [⭐───⭐⭐⭐] (슬라이더)

문제 유형: [☑ 객관식] [☑ 주관식] [□ 서술형]

태그: [연립방정식] [이차방정식] [+추가]
```

#### 3) 템플릿 슬롯
```
┌──────────────────────────────────────┐
│  ┌────────────────────────────────┐  │
│  │        슬롯 1                  │  │
│  │   (문제를 여기에 드래그)       │  │  ← 비어있는 상태
│  │        + 드롭                  │  │
│  └────────────────────────────────┘  │
│                                      │
│  ┌────────────────────────────────┐  │
│  │  1. 다음 연립방정식을 푸시오   │  │
│  │     x + y = 5                  │  │  ← 채워진 상태
│  │     x - y = 1            [×]  │  │  ← 제거 버튼
│  └────────────────────────────────┘  │
└──────────────────────────────────────┘
```

### 4.3 인터랙션 디자인

#### 드래그 앤 드롭 UX
```
1. 문제 카드 hover → 드래그 커서 표시
2. 드래그 시작 → 고스트 이미지 + 원본 반투명
3. 템플릿 위 hover → 드롭 가능 영역 하이라이트
4. 드롭 → 애니메이션과 함께 배치
5. 재정렬 → 드래그로 순서 변경
```

#### 키보드 단축키
| 단축키 | 기능 |
|--------|------|
| `Space` | 선택된 문제 미리보기 |
| `Enter` | 선택한 문제 템플릿에 추가 |
| `Delete` | 템플릿에서 문제 제거 |
| `Ctrl+Z` | 실행 취소 |
| `Ctrl+P` | PDF 생성 |

### 4.4 워크플로우 설계

```
┌─────────┐    ┌──────────┐    ┌──────────┐    ┌─────────┐
│ 1. 필터 │ → │ 2. 선택  │ → │ 3. 배치  │ → │ 4. 출력 │
└─────────┘    └──────────┘    └──────────┘    └─────────┘
     │              │               │               │
     ▼              ▼               ▼               ▼
  과목/단원      카드 클릭      드래그 또는      PDF 생성
  난이도 설정    또는 드래그     자동 배치       인쇄
```

---

## 5. 기술 구현 권장사항

### 5.1 프론트엔드 라이브러리

| 기능 | 추천 라이브러리 | 이유 |
|------|----------------|------|
| 드래그 앤 드롭 | `@dnd-kit/core` | React 친화적, 접근성 우수 |
| PDF 생성 | `react-pdf` + `@react-pdf/renderer` | React 컴포넌트 기반 PDF |
| 이미지 뷰어 | `react-zoom-pan-pinch` | 문제 확대 미리보기 |
| 가상화 | `react-virtual` | 많은 문제 성능 최적화 |

### 5.2 데이터 구조 제안

```typescript
// 문제 (Problem)
interface Problem {
  id: string;
  document_id: string;
  page_index: number;
  group_id: string;
  image_path: string;
  thumbnail_path?: string;
  metadata: {
    subject?: string;      // 과목
    chapter?: string;      // 단원
    difficulty?: 1 | 2 | 3; // 난이도
    type?: 'multiple' | 'short' | 'essay';
    tags?: string[];
  };
}

// 템플릿 (Template)
interface Template {
  id: string;
  name: string;
  layout: 'A4_portrait' | 'A4_landscape';
  slots: TemplateSlot[];
}

// 템플릿 슬롯 (TemplateSlot)
interface TemplateSlot {
  id: string;
  problem_id?: string;  // 배치된 문제
  position: { x: number; y: number };
  size: { width: number; height: number };
}

// 시험지 (Worksheet)
interface Worksheet {
  id: string;
  template_id: string;
  title: string;
  problems: {
    slot_id: string;
    problem_id: string;
    order: number;
  }[];
  created_at: string;
}
```

### 5.3 API 엔드포인트 제안

```
# 문제 조회
GET /api/problems
  ?subject=수학
  &chapter=1단원
  &difficulty=2
  &page=1&limit=20

# 템플릿 CRUD
GET    /api/templates
POST   /api/templates
GET    /api/templates/{id}
PUT    /api/templates/{id}
DELETE /api/templates/{id}

# 시험지 CRUD
GET    /api/worksheets
POST   /api/worksheets
GET    /api/worksheets/{id}
PUT    /api/worksheets/{id}
DELETE /api/worksheets/{id}

# PDF 생성
POST /api/worksheets/{id}/pdf
```

---

## 6. 단계별 구현 계획

### Phase 1: 문제은행 기반 구축
```
- 기존 problems 데이터에 메타데이터 추가 UI
- 과목/단원/난이도 태깅 기능
- 문제 검색 및 필터링 API
```

### Phase 2: 문제 선택 UI
```
- 필터 패널 컴포넌트
- 문제 카드 그리드
- 미리보기 모달
- 선택 장바구니
```

### Phase 3: 템플릿 편집기
```
- 슬롯 기반 템플릿 에디터
- 드래그 앤 드롭 배치
- 문제 순서 변경
- 템플릿 저장/불러오기
```

### Phase 4: PDF 출력
```
- A4 레이아웃 렌더링
- PDF 생성 및 다운로드
- 인쇄 최적화
```

---

## 7. 결론 및 권장사항

### 핵심 권장사항

1. **하이브리드 선택 UI**
   - 좌측: 트리 + 필터로 범위 축소
   - 중앙: 그리드 카드로 시각적 선택
   - 우측: 선택된 문제 장바구니

2. **슬롯 기반 템플릿**
   - 자유 캔버스보다 단순한 슬롯 방식 권장
   - 비개발자 사용자에게 적합
   - 일관된 출력물 보장

3. **점진적 복잡성**
   - 기본: 자동 배치 (초보자용)
   - 고급: 수동 조정 (파워 유저용)

4. **빠른 미리보기**
   - 썸네일로 빠른 식별
   - 호버 시 확대 미리보기
   - 모달로 전체 크기 확인

### 구현 우선순위

| 우선순위 | 기능 | 이유 |
|----------|------|------|
| 1 | 문제 필터링 + 검색 | 핵심 기능 |
| 2 | 카드 그리드 UI | 시각적 선택 |
| 3 | 슬롯 기반 템플릿 | 단순한 배치 |
| 4 | PDF 생성 | 최종 출력 |
| 5 | 자유 편집 모드 | 고급 기능 |

---

*리포트 작성: Claude Code*
*날짜: 2025-11-27*

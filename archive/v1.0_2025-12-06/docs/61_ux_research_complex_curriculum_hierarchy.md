# UX 연구: 복잡한 교육과정 계층 구조 처리

> **작성일**: 2025-12-03
> **문제**: 초3~고3 + 과목별 과정(공통수학, 기하, 미적 등)으로 인한 복잡성
> **목표**: 번잡하지 않으면서 확장 가능한 선택 UI 설계

---

## 1. 실제 데이터 구조 분석

### 1.1 현실적인 파일 구조

```
📁 초등학교
│   ├── 초3 수학
│   ├── 초4 수학
│   ├── 초5 수학
│   └── 초6 수학
│
📁 중학교
│   ├── 중1 수학
│   ├── 중2 수학
│   └── 중3 수학
│
📁 고등학교
│   ├── 고1
│   │   ├── 공통수학1
│   │   └── 공통수학2
│   ├── 고2
│   │   ├── 수학I
│   │   ├── 수학II
│   │   ├── 확률과통계
│   │   └── 미적분
│   └── 고3
│       ├── 기하
│       ├── 미적분
│       └── 고급수학
│
각 과정마다 10+ 시리즈 (수학의바이블, 쎈, 개념원리...)
```

### 1.2 조합 폭발 문제

```
학교급: 3개 (초, 중, 고)
학년: 10개 (초3~6, 중1~3, 고1~3)
과정: 1~5개 (학년별 상이)
시리즈: 10+개

최악의 경우: 10학년 × 5과정 × 10시리즈 = 500개 조합
```

### 1.3 핵심 질문

> "500개의 조합을 어떻게 **3초 내에** 선택하게 할 것인가?"

---

## 2. 기존 2단계 선택의 문제점

### 2.1 학년 버튼 10개 = 번잡함

```
❌ 현재 계획의 문제
┌──────────────────────────────────────────────────────────────┐
│  초3 초4 초5 초6 | 중1 중2 중3 | 고1 고2 고3               │
│  ○   ○   ○   ○  | ○   ○   ○  | ○   ○   ○                │
└──────────────────────────────────────────────────────────────┘
→ 10개 버튼은 너무 많음
→ 고등학교는 과정 선택이 추가로 필요
```

### 2.2 3단계 선택 = 더 번잡함

```
❌ 3단계 선택의 문제
Step 1: 학교급 (초/중/고)
Step 2: 학년 (1/2/3...)
Step 3: 과정 (공통수학/기하/미적...)
Step 4: 시리즈 (수학의바이블/쎈...)

→ 4번 클릭해야 시작 가능
→ 인지 부하 증가
```

---

## 3. 대안 패턴 연구

### 3.1 Option A: 스마트 검색 (Command Palette 스타일)

**컨셉**: VS Code, Figma, Notion의 "Quick Search" 패턴

```
┌─────────────────────────────────────────────────────────────┐
│  🔍 고1 수바                                                │
├─────────────────────────────────────────────────────────────┤
│  검색 결과                                                   │
│                                                             │
│  📚 고1 공통수학1 - 수학의바이블                             │
│     문제 + 해설 ✓                                           │
│                                                             │
│  📚 고1 공통수학2 - 수학의바이블                             │
│     문제 + 해설 ✓                                           │
│                                                             │
│  📚 고2 수학I - 수학의바이블                                 │
│     문제만                                                  │
└─────────────────────────────────────────────────────────────┘
```

**장점**:
- 단일 입력으로 모든 조합 검색
- 학습 후 매우 빠름 (2-3글자로 특정)
- 확장성 무한

**단점**:
- 초보자가 뭘 입력해야 할지 모름
- 오타에 민감

**평가**: ⭐⭐⭐⭐ (파워 유저에게 최적)

---

### 3.2 Option B: 캐스케이드 드롭다운 (점진적 필터링)

**컨셉**: 선택할수록 다음 옵션이 좁혀지는 방식

```
┌─────────────────────────────────────────────────────────────┐
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐ │
│  │ 고등학교 ▼  │→│ 1학년    ▼  │→│ 공통수학1        ▼ │ │
│  └─────────────┘  └─────────────┘  └─────────────────────┘ │
│                                                             │
│  시리즈 선택                                                │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐                   │
│  │수학의바이블│ │   쎈    │ │ 개념원리 │                   │
│  └──────────┘ └──────────┘ └──────────┘                   │
└─────────────────────────────────────────────────────────────┘
```

**장점**:
- 단계별로 선택지가 줄어듦
- 직관적 (초보자 친화적)

**단점**:
- 3-4번 클릭 필요
- 각 드롭다운 열고 닫기 번거로움

**평가**: ⭐⭐⭐ (보편적이지만 느림)

---

### 3.3 Option C: 트리 네비게이션 (파일 탐색기 스타일)

**컨셉**: 좌측 트리 + 우측 시리즈 그리드

```
┌───────────────────┬─────────────────────────────────────────┐
│  📁 초등학교       │  📚 시리즈 (고1 공통수학1)              │
│     초3           │                                         │
│     초4           │  ┌──────────┐ ┌──────────┐             │
│     초5           │  │수학의바이블│ │   쎈    │             │
│     초6           │  │ ✓ 완비   │ │ ✓ 완비  │             │
│  📁 중학교         │  └──────────┘ └──────────┘             │
│     중1           │                                         │
│     중2           │  ┌──────────┐ ┌──────────┐             │
│     중3           │  │ 개념원리  │ │블랙라벨  │             │
│  📁 고등학교  ▼   │  └──────────┘ └──────────┘             │
│   ▶ 고1           │                                         │
│      공통수학1 ◀  │  [▶ 작업 시작]                         │
│      공통수학2    │                                         │
│   ▶ 고2           │                                         │
│   ▶ 고3           │                                         │
└───────────────────┴─────────────────────────────────────────┘
```

**장점**:
- 전체 구조 한눈에 파악
- 탐색하면서 학습

**단점**:
- 공간 많이 차지
- 모바일 비친화적
- 복잡해 보임

**평가**: ⭐⭐⭐ (파워 유저에게 유용)

---

### 3.4 Option D: 최근 사용 중심 + 검색 (권장)

**컨셉**: 대부분의 경우 "최근 사용"으로 해결, 나머지는 검색

```
┌─────────────────────────────────────────────────────────────┐
│                    🎯 새 작업 시작하기                        │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  🔍 검색... (예: "고1 공통 수바" 또는 "중2 쎈")       │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ⭐ 최근 사용                                               │
│  ┌─────────────────┐ ┌─────────────────┐                   │
│  │ 고1 공통수학1    │ │ 고2 미적분      │                   │
│  │ 수학의바이블     │ │ 쎈             │                   │
│  │ [바로 시작]     │ │ [바로 시작]     │                   │
│  └─────────────────┘ └─────────────────┘                   │
│                                                             │
│  📂 전체 찾아보기                                    [펼치기]│
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

**핵심 인사이트**:
> "사용자는 80%의 경우 같은 파일을 반복 사용한다"

**장점**:
- 반복 작업: 1클릭으로 시작
- 새 파일: 검색으로 빠르게 찾기
- 초보자: "전체 찾아보기"로 탐색
- UI가 단순함

**단점**:
- 첫 사용 시 최근 사용 없음
- 검색어를 알아야 함

**평가**: ⭐⭐⭐⭐⭐ (최적 균형)

---

### 3.5 Option E: 태그 기반 필터링

**컨셉**: 태그를 조합하여 필터링

```
┌─────────────────────────────────────────────────────────────┐
│  필터 태그                                                   │
│  ┌────┐ ┌────┐ ┌────────┐ ┌────────────┐                  │
│  │ 고1 │ │ × │ │공통수학1│ │수학의바이블 │                  │
│  └────┘ └────┘ └────────┘ └────────────┘                  │
│                                                             │
│  + 태그 추가: 학년 | 과정 | 시리즈                           │
│                                                             │
│  검색 결과 (1개)                                            │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  📚 고1 공통수학1 - 수학의바이블                      │   │
│  │  문제 + 해설 ✓                      [작업 시작]      │   │
│  └─────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────┘
```

**장점**:
- 유연한 필터링
- 순서 상관없이 조합 가능

**단점**:
- 태그 개념 학습 필요
- 초보자에게 어려울 수 있음

**평가**: ⭐⭐⭐ (고급 사용자용)

---

## 4. 최적 솔루션: 하이브리드 접근

### 4.1 핵심 원칙

```
┌─────────────────────────────────────────────────────────────┐
│  1. 최근 사용 = 메인 (80% 케이스 커버)                       │
│  2. 스마트 검색 = 보조 (새 파일, 특정 파일 찾기)             │
│  3. 전체 찾아보기 = 폴백 (탐색, 학습)                        │
└─────────────────────────────────────────────────────────────┘
```

### 4.2 완성 UI 설계

```
┌─────────────────────────────────────────────────────────────┐
│  문제은행                                    [+ 파일 추가]  │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │                 🎯 새 작업 시작하기                    │   │
│  │                                                      │   │
│  │  ┌────────────────────────────────────────────────┐ │   │
│  │  │  🔍 학년, 과정, 시리즈 검색...                  │ │   │
│  │  │     예: "고1 공통 수바" 또는 "중2 쎈"          │ │   │
│  │  └────────────────────────────────────────────────┘ │   │
│  │                                                      │   │
│  │  ─────────────────────────────────────────────────  │   │
│  │                                                      │   │
│  │  ⭐ 최근 사용 (클릭하면 바로 시작)                   │   │
│  │                                                      │   │
│  │  ┌───────────────────┐ ┌───────────────────┐       │   │
│  │  │ 📘 고1 공통수학1   │ │ 📗 고2 미적분      │       │   │
│  │  │    수학의바이블    │ │    쎈             │       │   │
│  │  │                   │ │                   │       │   │
│  │  │    [▶ 바로 시작]  │ │    [▶ 바로 시작]  │       │   │
│  │  └───────────────────┘ └───────────────────┘       │   │
│  │                                                      │   │
│  │  ┌───────────────────┐ ┌───────────────────┐       │   │
│  │  │ 📙 중3 수학        │ │ 📕 고1 공통수학2   │       │   │
│  │  │    개념원리        │ │    블랙라벨        │       │   │
│  │  │                   │ │                   │       │   │
│  │  │    [▶ 바로 시작]  │ │    [▶ 바로 시작]  │       │   │
│  │  └───────────────────┘ └───────────────────┘       │   │
│  │                                                      │   │
│  │  ─────────────────────────────────────────────────  │   │
│  │                                                      │   │
│  │  📂 전체 찾아보기                             [▼]   │   │
│  │                                                      │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 4.3 검색 동작

```
입력: "고1 공통 수바"

┌─────────────────────────────────────────────────────────────┐
│  🔍 고1 공통 수바                                           │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  검색 결과                                                   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  📘 [고1] [공통수학1] - [수학의바이블]               │   │ ← 매칭 하이라이트
│  │     문제 ✓  해설 ✓                                  │   │
│  │                                        [작업 시작]  │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐   │
│  │  📘 [고1] [공통수학2] - [수학의바이블]               │   │
│  │     문제 ✓  해설 ✓                                  │   │
│  │                                        [작업 시작]  │   │
│  └─────────────────────────────────────────────────────┘   │
│                                                             │
│  💡 검색 팁: 학년 + 과정 + 시리즈 일부만 입력해도 찾아요    │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 4.4 전체 찾아보기 (펼침)

```
┌─────────────────────────────────────────────────────────────┐
│  📂 전체 찾아보기                                    [▲]   │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─── 초등학교 ─────────────────────────────────────────┐  │
│  │  초3  초4  초5  초6                                   │  │
│  │  ○    ○    ○    ○                                   │  │
│  └──────────────────────────────────────────────────────┘  │
│                                                             │
│  ┌─── 중학교 ───────────────────────────────────────────┐  │
│  │  중1  중2  중3                                        │  │
│  │  ○    ○    ○                                        │  │
│  └──────────────────────────────────────────────────────┘  │
│                                                             │
│  ┌─── 고등학교 ─────────────────────────────────────────┐  │
│  │                                                       │  │
│  │  고1: 공통수학1 ● | 공통수학2 ○                       │  │
│  │  고2: 수학I ○ | 수학II ○ | 확통 ○ | 미적 ○          │  │
│  │  고3: 기하 ○ | 미적분 ○ | 고급수학 ○                 │  │
│  │                                                       │  │
│  └──────────────────────────────────────────────────────┘  │
│                                                             │
│  선택: 고1 공통수학1                                        │
│                                                             │
│  시리즈 선택                                                │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐     │
│  │수학의바이블│ │   쎈    │ │ 개념원리 │ │ 블랙라벨 │     │
│  └──────────┘ └──────────┘ └──────────┘ └──────────┘     │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 5. 파일 네이밍 컨벤션 확장

### 5.1 새로운 네이밍 규칙

```
{학년}_{과정}_{시리즈}_{타입}.pdf

예시:
- 고1_공통수학1_수학의바이블_문제.pdf
- 고1_공통수학1_수학의바이블_해설.pdf
- 고2_미적분_쎈_문제.pdf
- 중3_수학_개념원리_해설.pdf  (과정이 단일인 경우)
- 초5_수학_기본서_문제.pdf
```

### 5.2 파싱 로직 확장

```typescript
interface ParsedDocument {
  schoolLevel: 'elementary' | 'middle' | 'high' | null;  // 초/중/고
  grade: string | null;         // "고1", "중3", "초5"
  course: string | null;        // "공통수학1", "미적분", "수학"
  series: string | null;        // "수학의바이블", "쎈"
  type: 'problem' | 'solution' | null;
  original: string;
}

// 파싱 패턴
const pattern = /^(초[3-6]|중[1-3]|고[1-3])_(.+?)_(.+?)_(문제|해설)\.pdf$/;
// 그룹: [학년, 과정, 시리즈, 타입]
```

### 5.3 자동 인덱스 구조

```typescript
interface DocumentIndex {
  schools: {
    elementary: SchoolInfo;
    middle: SchoolInfo;
    high: SchoolInfo;
  };
}

interface SchoolInfo {
  label: string;  // "초등학교"
  grades: Map<string, GradeInfo>;
}

interface GradeInfo {
  label: string;  // "1학년"
  courses: Map<string, CourseInfo>;
}

interface CourseInfo {
  label: string;  // "공통수학1"
  series: Map<string, SeriesInfo>;
}

interface SeriesInfo {
  name: string;
  problemDocId: string | null;
  solutionDocId: string | null;
}
```

---

## 6. 사용자 시나리오별 흐름

### 6.1 반복 사용자 (80%)

```
1. 페이지 진입
2. "최근 사용"에서 원하는 항목 확인
3. [바로 시작] 클릭
4. 작업 시작

→ 1클릭, 2초
```

### 6.2 새 파일 선택 (15%)

```
1. 페이지 진입
2. 검색창에 "고2 미적 쎈" 입력
3. 검색 결과에서 선택
4. [작업 시작] 클릭

→ 타이핑 + 2클릭, 5초
```

### 6.3 탐색/학습 (5%)

```
1. 페이지 진입
2. "전체 찾아보기" 펼침
3. 학교급 → 학년 → 과정 선택
4. 시리즈 선택
5. [작업 시작] 클릭

→ 4-5클릭, 10초
```

---

## 7. 구현 복잡도 비교

| 옵션 | 구현 시간 | UX 점수 | 확장성 | 권장도 |
|------|----------|---------|--------|--------|
| A. 스마트 검색만 | 2시간 | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 🟡 |
| B. 캐스케이드 드롭다운 | 3시간 | ⭐⭐⭐ | ⭐⭐⭐ | 🟡 |
| C. 트리 네비게이션 | 4시간 | ⭐⭐⭐ | ⭐⭐⭐⭐ | 🟡 |
| **D. 하이브리드 (권장)** | **4시간** | **⭐⭐⭐⭐⭐** | **⭐⭐⭐⭐⭐** | **🟢** |
| E. 태그 필터링 | 5시간 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 🟡 |

---

## 8. 최종 권장안: Option D (하이브리드)

### 8.1 UI 구조 요약

```
┌─────────────────────────────────────────────────────────────┐
│  1️⃣ 검색창 (항상 상단)                                       │
│     → 자연어 검색: "고1 공통 수바"                           │
│     → Fuzzy 매칭 지원                                       │
├─────────────────────────────────────────────────────────────┤
│  2️⃣ 최근 사용 카드 (4개)                                     │
│     → 학년 + 과정 + 시리즈 표시                              │
│     → 1클릭으로 바로 시작                                    │
├─────────────────────────────────────────────────────────────┤
│  3️⃣ 전체 찾아보기 (접이식)                                   │
│     → 학교급 탭: 초 | 중 | 고                               │
│     → 학년 + 과정 라디오 버튼                                │
│     → 시리즈 그리드                                         │
└─────────────────────────────────────────────────────────────┘
```

### 8.2 핵심 장점

| 사용 패턴 | 해결 방법 | 시간 |
|----------|----------|------|
| 반복 사용 | 최근 사용 1클릭 | **2초** |
| 특정 파일 | 검색 (3글자) | **5초** |
| 탐색/학습 | 전체 찾아보기 | **10초** |

### 8.3 vs 기존 2단계 선택

| 항목 | 2단계 선택 | 하이브리드 |
|------|-----------|-----------|
| 학년 버튼 | 10개 (번잡) | 검색 + 탭 3개 |
| 과정 처리 | 불가 | 자연스럽게 통합 |
| 반복 사용 | 매번 선택 | 1클릭 |
| 확장성 | 제한적 | 무한 |

---

## 9. 구현 체크리스트 (Phase 34.5 수정)

### 변경된 컴포넌트

```
기존 계획                    →  새 계획
────────────────────────────────────────────────────
GradeSelector (학년 10개)    →  삭제
SeriesSelector               →  SearchResults + SeriesGrid
                             →  RecentUsedCards (신규)
                             →  BrowseAllSection (신규)
```

### 신규 컴포넌트

```
frontend/src/components/main/
├── SmartSearch.tsx          # 스마트 검색창 + 결과
├── RecentUsedCards.tsx      # 최근 사용 카드 4개
├── BrowseAllSection.tsx     # 전체 찾아보기 (접이식)
│   ├── SchoolTabs.tsx       # 초/중/고 탭
│   ├── GradeCourseSelector.tsx  # 학년+과정 선택
│   └── SeriesGrid.tsx       # 시리즈 그리드
└── QuickStartCard.tsx       # 빠른 시작 카드
```

---

## 10. 결론

### 핵심 인사이트

> **"계층을 UI에 그대로 반영하지 말고, 사용 패턴에 맞게 재구성하라"**

500개의 조합이 있더라도:
- 80%는 **최근 사용**으로 해결
- 15%는 **검색**으로 해결
- 5%만 **전체 탐색** 필요

### 최종 권장

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│   1. 검색창 (메인)         → 모든 조합 커버                  │
│   2. 최근 사용 카드        → 반복 작업 1클릭                 │
│   3. 전체 찾아보기 (접힘)  → 탐색/학습용                     │
│                                                             │
│   학년 버튼 10개 ❌  →  검색 + 탭 3개 ✅                    │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

*리포트 작성: Claude Code (Opus)*
*최종 업데이트: 2025-12-03*

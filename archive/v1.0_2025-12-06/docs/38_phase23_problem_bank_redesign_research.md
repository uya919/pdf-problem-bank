# Phase 23: ë¬¸ì œì€í–‰ UI ë¦¬ë””ìì¸ ì—°êµ¬ ë¦¬í¬íŠ¸

---

## 1. ì—°êµ¬ ëª©ì 

ì‚¬ìš©ì ìš”ì²­ì‚¬í•­:
1. **HML/HWPX ë¬¸ì œì€í–‰**ê³¼ **ì´ë¯¸ì§€ í¬ë¡­ ë¬¸ì œì€í–‰**ì„ **ë¶„ë¦¬ëœ UI**ë¡œ êµ¬ì„±
2. ë¼ë²¨ë§ ì‹œ **"ë‚´ë³´ë‚´ê¸°" ë²„íŠ¼ ì—†ì´** í™•ì •ë§Œ í•´ë„ í¬ë¡­ ë¬¸ì œì€í–‰ì— ìë™ ë“±ë¡

---

## 2. í˜„ì¬ ì‹œìŠ¤í…œ ë¶„ì„

### 2.1 ë‘ ê°œì˜ ë¬¸ì œì€í–‰ ì‹œìŠ¤í…œ

#### A. ProblemBankPage (PDF í¬ë¡­ ê¸°ë°˜)

```
íŒŒì¼: frontend/src/pages/ProblemBankPage.tsx
```

| í•­ëª© | ë‚´ìš© |
|------|------|
| ë°ì´í„° ì†ŒìŠ¤ | `{doc_dir}/problems/` í´ë”ì˜ PNG ì´ë¯¸ì§€ |
| API | `useExportedProblems` â†’ `GET /api/export/{doc_id}/problems` |
| íŠ¹ì§• | ë¬¸ì„œ ì„ íƒ í•„ìˆ˜, ì´ë¯¸ì§€ ê¸°ë°˜ |
| ë¬¸ì œì  | ìˆ˜ë™ "í˜ì´ì§€ ë‚´ë³´ë‚´ê¸°" ë²„íŠ¼ í´ë¦­ í•„ìš” |

**ì›Œí¬í”Œë¡œìš°:**
```
ê·¸ë£¹ ìƒì„± â†’ ì €ì¥ (groups/page_{n}.json) â†’ [ìˆ˜ë™] ë‚´ë³´ë‚´ê¸° ë²„íŠ¼ í´ë¦­ â†’
ì´ë¯¸ì§€ í¬ë¡­ â†’ problems/ í´ë” ì €ì¥ â†’ ë¬¸ì œì€í–‰ì— í‘œì‹œ
```

#### B. IntegratedProblemBankPage (HML/HWPX ê¸°ë°˜)

```
íŒŒì¼: frontend/src/pages/IntegratedProblemBankPage.tsx
```

| í•­ëª© | ë‚´ìš© |
|------|------|
| ë°ì´í„° ì†ŒìŠ¤ | ë°±ì—”ë“œ JSON ë°ì´í„°ë² ì´ìŠ¤ |
| API | `hangulApi.getProblems` â†’ `GET /api/hangul/problems` |
| íŠ¹ì§• | í…ìŠ¤íŠ¸/LaTeX ê¸°ë°˜, íœ´ì§€í†µ ì‹œìŠ¤í…œ í¬í•¨ |
| ê³ ê¸‰ ê¸°ëŠ¥ | ê³¼ëª©/í•™ë…„/ë‹¨ì›/ë‚œì´ë„ í•„í„°, ì¼ê´„ ì„ íƒ/ì‚­ì œ |

**ì›Œí¬í”Œë¡œìš°:**
```
í•œê¸€ íŒŒì¼ ì—…ë¡œë“œ â†’ íŒŒì‹± â†’ ìë™ ì €ì¥ â†’ ì¦‰ì‹œ ë¬¸ì œì€í–‰ì— í‘œì‹œ
```

### 2.2 í•µì‹¬ ì°¨ì´ì  ë¹„êµ

| êµ¬ë¶„ | í¬ë¡­ ë¬¸ì œì€í–‰ | í•œê¸€ ë¬¸ì œì€í–‰ |
|------|--------------|--------------|
| ë°ì´í„° í˜•ì‹ | ì´ë¯¸ì§€ (PNG) | í…ìŠ¤íŠ¸/LaTeX |
| ë“±ë¡ ë°©ì‹ | ìˆ˜ë™ (ë‚´ë³´ë‚´ê¸° ë²„íŠ¼) | ìë™ (ì—…ë¡œë“œ ì¦‰ì‹œ) |
| ë¬¸ì„œ ì„ íƒ | í•„ìˆ˜ | ë¶ˆí•„ìš” |
| íœ´ì§€í†µ | ì—†ìŒ | ìˆìŒ |
| í•„í„°ë§ | í˜ì´ì§€ë§Œ | ê³¼ëª©/í•™ë…„/ë‹¨ì›/ë‚œì´ë„ |
| ë©”íƒ€ë°ì´í„° | ì œí•œì  | í’ë¶€í•¨ |

### 2.3 ë¼ë²¨ë§ ì›Œí¬í”Œë¡œìš° ë¶„ì„ (PageViewer)

```typescript
// frontend/src/pages/PageViewer.tsx

// ê·¸ë£¹ ìƒì„±
const handleCreateGroup = () => {
  const newGroup: ProblemGroup = { ... };
  setLocalGroups([...localGroups, newGroup]);
  // ìë™ ì €ì¥: 2ì´ˆ í›„ ë””ë°”ìš´ìŠ¤
};

// ë‚´ë³´ë‚´ê¸° (ë³„ë„ ë²„íŠ¼ í´ë¦­ í•„ìš”)
const handleExportPage = async () => {
  await api.exportPageProblems(documentId, currentPage);
  // ì´ë•Œ ë¹„ë¡œì†Œ ì´ë¯¸ì§€ í¬ë¡­ & ë¬¸ì œì€í–‰ ë“±ë¡
};
```

**ë¬¸ì œì :**
- ê·¸ë£¹ ì €ì¥ â‰  ë¬¸ì œì€í–‰ ë“±ë¡ (2ë‹¨ê³„ ê³¼ì •)
- ì‚¬ìš©ìê°€ "ë‚´ë³´ë‚´ê¸°" ë²„íŠ¼ í´ë¦­ì„ ìŠìœ¼ë©´ ë¬¸ì œì€í–‰ì— ì—†ìŒ
- í˜¼ë€ìŠ¤ëŸ¬ìš´ UX

---

## 3. ë°ì´í„° ì €ì¥ êµ¬ì¡° ë¶„ì„

### 3.1 í¬ë¡­ ë¬¸ì œ ë°ì´í„°

```
dataset_root/{document_id}/
â”œâ”€â”€ pages/              # ì›ë³¸ í˜ì´ì§€ ì´ë¯¸ì§€
â”‚   â””â”€â”€ page_0.png
â”œâ”€â”€ blocks/             # ë¸”ë¡ ê°ì§€ ê²°ê³¼
â”‚   â””â”€â”€ page_0.json
â”œâ”€â”€ groups/             # ê·¸ë£¹ ì •ë³´ (ë¼ë²¨ë§ ê²°ê³¼)
â”‚   â””â”€â”€ page_0.json     # { groups: [{ id, block_ids, problemInfo }] }
â””â”€â”€ problems/           # í¬ë¡­ëœ ë¬¸ì œ ì´ë¯¸ì§€ (ë‚´ë³´ë‚´ê¸° í›„)
    â””â”€â”€ page_0_L1.png
```

### 3.2 í•œê¸€ ë¬¸ì œ ë°ì´í„°

```
dataset_root/_problem_bank/
â”œâ”€â”€ problems/
â”‚   â””â”€â”€ {id}.json       # ë¬¸ì œ ë°ì´í„°
â”œâ”€â”€ answers/
â”‚   â””â”€â”€ {id}.json       # ì •ë‹µ ë°ì´í„°
â”œâ”€â”€ explanations/
â”‚   â””â”€â”€ {id}.json       # í•´ì„¤ ë°ì´í„°
â””â”€â”€ trash/
    â””â”€â”€ {id}.json       # ì‚­ì œëœ ë¬¸ì œ (ë³µì› ê°€ëŠ¥)
```

---

## 4. ì œì•ˆ: Phase 23 êµ¬í˜„ ê³„íš

### 4.1 Phase 23-A: ë¬¸ì œì€í–‰ í—ˆë¸Œ í˜ì´ì§€ (íƒ­ ê¸°ë°˜ í†µí•©)

**ëª©í‘œ:** ë‘ ë¬¸ì œì€í–‰ì„ í•˜ë‚˜ì˜ í—ˆë¸Œì—ì„œ íƒ­ìœ¼ë¡œ ì „í™˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“š ë¬¸ì œì€í–‰                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ì´ë¯¸ì§€ í¬ë¡­ (152)]  [í•œê¸€ íŒŒì¼ (89)]  [íœ´ì§€í†µ (3)]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ ë¬¸ì œ1 â”‚ â”‚ ë¬¸ì œ2 â”‚ â”‚ ë¬¸ì œ3 â”‚ â”‚ ë¬¸ì œ4 â”‚  ...           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**êµ¬í˜„:**
```typescript
// ìƒˆ íŒŒì¼: frontend/src/pages/ProblemBankHub.tsx

type TabType = 'crop' | 'hangul' | 'trash';

export function ProblemBankHub() {
  const [activeTab, setActiveTab] = useState<TabType>('crop');

  return (
    <div>
      <TabBar tabs={['ì´ë¯¸ì§€ í¬ë¡­', 'í•œê¸€ íŒŒì¼', 'íœ´ì§€í†µ']} />

      {activeTab === 'crop' && <CropProblemList />}
      {activeTab === 'hangul' && <HangulProblemList />}
      {activeTab === 'trash' && <TrashList />}
    </div>
  );
}
```

**ì¥ì :**
- í†µì¼ëœ ì ‘ê·¼ ê²½ë¡œ
- ë‘ ë°ì´í„° ì†ŒìŠ¤ ëª…í™•íˆ êµ¬ë¶„
- ê¸°ì¡´ í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš© ê°€ëŠ¥

### 4.2 Phase 23-B: ìë™ í¬ë¡­ & ë“±ë¡ ì‹œìŠ¤í…œ

**ëª©í‘œ:** ê·¸ë£¹ í™•ì • ì‹œ ìë™ìœ¼ë¡œ ì´ë¯¸ì§€ í¬ë¡­ ë° ë¬¸ì œì€í–‰ ë“±ë¡

#### ë°©ì•ˆ 1: ê·¸ë£¹ ì €ì¥ ì‹œ ìë™ ë‚´ë³´ë‚´ê¸°

```typescript
// PageViewer.tsx ìˆ˜ì •

const saveGroups = async (groups: ProblemGroup[], targetPageIndex: number) => {
  // 1. ê·¸ë£¹ ì €ì¥ (ê¸°ì¡´)
  await saveGroupsMutation.mutateAsync({ ... });

  // 2. ìë™ ë‚´ë³´ë‚´ê¸° (ì‹ ê·œ)
  await api.exportPageProblems(documentId, targetPageIndex);

  // 3. ë¬¸ì œì€í–‰ ìºì‹œ ë¬´íš¨í™”
  queryClient.invalidateQueries(['exportedProblems']);
};
```

**ë¬¸ì œì :**
- ëª¨ë“  ì €ì¥ë§ˆë‹¤ ì´ë¯¸ì§€ í¬ë¡­ â†’ ì„±ëŠ¥ ì €í•˜
- ì‘ì—… ì¤‘ ì„ì‹œ ì €ì¥ë„ ë‚´ë³´ë‚´ê¸°ë¨

#### ë°©ì•ˆ 2: "í™•ì •" ë²„íŠ¼ ì¶”ê°€ (ê¶Œì¥)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ê·¸ë£¹ íŒ¨ë„                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ L1: ë¬¸ì œ 1                               â”‚           â”‚
â”‚  â”‚ ë¸”ë¡: 0, 1, 2, 3                         â”‚           â”‚
â”‚  â”‚ ìƒíƒœ: [ë¯¸í™•ì •]                           â”‚           â”‚
â”‚  â”‚                                          â”‚           â”‚
â”‚  â”‚ [ì‚­ì œ] [í™•ì •í•˜ê¸° âœ“]                      â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                         â”‚
â”‚  [ì „ì²´ í™•ì •í•˜ê¸°]                     [ì €ì¥ ì™„ë£Œ âœ“]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì›Œí¬í”Œë¡œìš°:**
```
ê·¸ë£¹ ìƒì„± â†’ í¸ì§‘ (ì„ì‹œ ì €ì¥) â†’ [í™•ì • ë²„íŠ¼ í´ë¦­] â†’ ì´ë¯¸ì§€ í¬ë¡­ â†’ ë¬¸ì œì€í–‰ ë“±ë¡
```

**êµ¬í˜„:**
```typescript
// ProblemGroup íƒ€ì… í™•ì¥
interface ProblemGroup {
  id: string;
  block_ids: number[];
  problemInfo?: ProblemInfo;
  status: 'draft' | 'confirmed';  // ì‹ ê·œ í•„ë“œ
  exportedAt?: string;            // ë‚´ë³´ë‚´ê¸° ì‹œê°
}

// í™•ì • í•¸ë“¤ëŸ¬
const handleConfirmGroup = async (groupId: string) => {
  // 1. ìƒíƒœ ì—…ë°ì´íŠ¸
  setLocalGroups(prev => prev.map(g =>
    g.id === groupId ? { ...g, status: 'confirmed' } : g
  ));

  // 2. ì €ì¥
  await saveImmediately(updatedGroups, currentPage);

  // 3. í•´ë‹¹ ê·¸ë£¹ë§Œ ë‚´ë³´ë‚´ê¸° (ë°±ì—”ë“œ ìˆ˜ì • í•„ìš”)
  await api.exportGroup(documentId, currentPage, groupId);

  showToast('ë¬¸ì œê°€ ë¬¸ì œì€í–‰ì— ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
};
```

#### ë°©ì•ˆ 3: ë°±ê·¸ë¼ìš´ë“œ ìë™ í™•ì • (ê³ ê¸‰)

```typescript
// ë””ë°”ìš´ìŠ¤ëœ ìë™ í™•ì •
useEffect(() => {
  const unconfirmedGroups = localGroups.filter(g => g.status !== 'confirmed');

  if (unconfirmedGroups.length > 0) {
    const timer = setTimeout(async () => {
      // 5ë¶„ í›„ ìë™ í™•ì •
      for (const group of unconfirmedGroups) {
        await handleConfirmGroup(group.id);
      }
    }, 5 * 60 * 1000);

    return () => clearTimeout(timer);
  }
}, [localGroups]);
```

### 4.3 Phase 23-C: í¬ë¡­ ë¬¸ì œì€í–‰ ê°œì„ 

**í˜„ì¬ ë¬¸ì œì :**
- ë¬¸ì„œ ì„ íƒ ë“œë¡­ë‹¤ìš´ í•„ìˆ˜
- ì „ì²´ ë¬¸ì œ í•œëˆˆì— ë³¼ ìˆ˜ ì—†ìŒ

**ê°œì„ ì•ˆ:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì´ë¯¸ì§€ í¬ë¡­ ë¬¸ì œì€í–‰                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ê²€ìƒ‰: [________________] ë¬¸ì„œ: [ì „ì²´ â–¼] ìƒíƒœ: [ì „ì²´ â–¼]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  ğŸ“„ 2024_ìˆ˜í•™1_ì¤‘ê°„ê³ ì‚¬.pdf                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚  â”‚ 1ë²ˆ  â”‚ â”‚ 2ë²ˆ  â”‚ â”‚ 3ë²ˆ  â”‚                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                                         â”‚
â”‚  ğŸ“„ 2024_ìˆ˜í•™2_ê¸°ë§ê³ ì‚¬.pdf                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚  â”‚ 1ë²ˆ  â”‚ â”‚ 2ë²ˆ  â”‚                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**êµ¬í˜„:**
```typescript
// ì „ì²´ ë¬¸ì„œ ë¬¸ì œ ì¡°íšŒ API (ì‹ ê·œ)
GET /api/export/all-problems?
    search=ê²€ìƒ‰ì–´&
    document_id=ì„ íƒë¬¸ì„œ&
    status=confirmed

// ì‘ë‹µ
{
  "problems": [
    {
      "document_id": "2024_ìˆ˜í•™1_ì¤‘ê°„ê³ ì‚¬",
      "page_index": 0,
      "group_id": "L1",
      "problem_id": "...",
      "image_path": "...",
      "problem_info": { ... }
    }
  ],
  "grouped_by_document": {
    "2024_ìˆ˜í•™1_ì¤‘ê°„ê³ ì‚¬": [ ... ],
    "2024_ìˆ˜í•™2_ê¸°ë§ê³ ì‚¬": [ ... ]
  }
}
```

---

## 5. ë°±ì—”ë“œ ìˆ˜ì • ì‚¬í•­

### 5.1 ê°œë³„ ê·¸ë£¹ ë‚´ë³´ë‚´ê¸° API

```python
# backend/app/routers/export.py

@router.post("/{document_id}/page/{page_index}/group/{group_id}")
async def export_single_group(
    document_id: str,
    page_index: int,
    group_id: str
):
    """ë‹¨ì¼ ê·¸ë£¹ë§Œ ë‚´ë³´ë‚´ê¸° (í™•ì • ì‹œ í˜¸ì¶œ)"""
    # 1. í•´ë‹¹ ê·¸ë£¹ ì¡°íšŒ
    # 2. ì´ë¯¸ì§€ í¬ë¡­
    # 3. ë©”íƒ€ë°ì´í„° ì €ì¥
    # 4. ê·¸ë£¹ ìƒíƒœ ì—…ë°ì´íŠ¸ (confirmed)
    pass
```

### 5.2 ì „ì²´ ë¬¸ì œ ì¡°íšŒ API

```python
# backend/app/routers/export.py

@router.get("/all-problems")
async def list_all_problems(
    search: Optional[str] = None,
    document_id: Optional[str] = None,
    status: Optional[str] = None,
    limit: int = 50,
    offset: int = 0
):
    """ëª¨ë“  ë¬¸ì„œì˜ ë‚´ë³´ë‚´ê¸°ëœ ë¬¸ì œ ì¡°íšŒ"""
    # ëª¨ë“  ë¬¸ì„œì˜ problems/ í´ë” ìŠ¤ìº”
    # í•„í„°ë§ ì ìš©
    # ë¬¸ì„œë³„ ê·¸ë£¹í™” ì˜µì…˜
    pass
```

### 5.3 ê·¸ë£¹ ìƒíƒœ í•„ë“œ ì¶”ê°€

```python
# backend/app/models/block.py

class ProblemGroup(BaseModel):
    id: str
    column: str
    block_ids: list[int]
    problem_info: Optional[ProblemInfo] = None
    status: Literal['draft', 'confirmed'] = 'draft'  # ì‹ ê·œ
    exported_at: Optional[str] = None                 # ì‹ ê·œ
```

---

## 6. êµ¬í˜„ ìš°ì„ ìˆœìœ„

| ìˆœìœ„ | ë‹¨ê³„ | ì„¤ëª… | ì˜ˆìƒ ì‘ì—…ëŸ‰ |
|------|------|------|------------|
| 1 | 23-B-2 | "í™•ì •" ë²„íŠ¼ ì¶”ê°€ (í•µì‹¬ ê¸°ëŠ¥) | ì¤‘ |
| 2 | 23-A | ë¬¸ì œì€í–‰ í—ˆë¸Œ í˜ì´ì§€ (íƒ­ í†µí•©) | ì†Œ |
| 3 | 23-C | í¬ë¡­ ë¬¸ì œì€í–‰ ê°œì„  (ì „ì²´ ë³´ê¸°) | ì¤‘ |
| 4 | 23-B-3 | ìë™ í™•ì • (ì„ íƒì ) | ì†Œ |

---

## 7. ì˜ˆìƒ íŒŒì¼ ë³€ê²½ ëª©ë¡

### í”„ë¡ íŠ¸ì—”ë“œ

| íŒŒì¼ | ë³€ê²½ ë‚´ìš© |
|------|----------|
| `pages/ProblemBankHub.tsx` | ì‹ ê·œ ìƒì„±: í—ˆë¸Œ í˜ì´ì§€ |
| `pages/PageViewer.tsx` | í™•ì • ë²„íŠ¼ ì¶”ê°€, ìƒíƒœ ê´€ë¦¬ |
| `components/GroupPanel.tsx` | í™•ì • ë²„íŠ¼ UI |
| `components/GroupCard.tsx` | í™•ì • ìƒíƒœ í‘œì‹œ |
| `api/client.ts` | ì‹ ê·œ API í•¨ìˆ˜ |
| `hooks/useExportedProblems.ts` | ì „ì²´ ë¬¸ì œ ì¡°íšŒ ì§€ì› |
| `App.tsx` | ë¼ìš°íŒ… ìˆ˜ì • |

### ë°±ì—”ë“œ

| íŒŒì¼ | ë³€ê²½ ë‚´ìš© |
|------|----------|
| `routers/export.py` | ê°œë³„ ê·¸ë£¹ ë‚´ë³´ë‚´ê¸°, ì „ì²´ ë¬¸ì œ ì¡°íšŒ |
| `routers/blocks.py` | ê·¸ë£¹ ìƒíƒœ ì—…ë°ì´íŠ¸ |
| `models/block.py` | status í•„ë“œ ì¶”ê°€ |
| `services/export_service.py` | ê°œë³„ ê·¸ë£¹ ì²˜ë¦¬ ë¡œì§ |

---

## 8. ê²°ë¡  ë° ê¶Œì¥ì‚¬í•­

### í•µì‹¬ ë³€ê²½ì 

1. **"í™•ì •" ë²„íŠ¼ ë„ì…** - ë¼ë²¨ë§ ì›Œí¬í”Œë¡œìš°ì—ì„œ ëª…ì‹œì  í™•ì • ë‹¨ê³„ ì¶”ê°€
2. **ìë™ ì´ë¯¸ì§€ í¬ë¡­** - í™•ì • ì‹œ ì¦‰ì‹œ ë¬¸ì œì€í–‰ ë“±ë¡
3. **íƒ­ ê¸°ë°˜ í†µí•© UI** - í¬ë¡­/í•œê¸€ ë¬¸ì œì€í–‰ì„ í•˜ë‚˜ì˜ í—ˆë¸Œì—ì„œ ê´€ë¦¬

### ì˜ˆìƒ íš¨ê³¼

- ì‚¬ìš©ì í˜¼ë€ í•´ì†Œ (ë‚´ë³´ë‚´ê¸° ë²„íŠ¼ ë¶ˆí•„ìš”)
- ì¼ê´€ëœ ë¬¸ì œì€í–‰ ê²½í—˜
- ì‘ì—… íš¨ìœ¨ì„± í–¥ìƒ

### ë‹¤ìŒ ë‹¨ê³„

ì‚¬ìš©ì ìŠ¹ì¸ í›„ Phase 23-B-2 (í™•ì • ë²„íŠ¼)ë¶€í„° êµ¬í˜„ ì‹œì‘ ê¶Œì¥

---

*ì‘ì„±: Claude Code*
*ë‚ ì§œ: 2025-12-02*

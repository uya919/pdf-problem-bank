# 문서 선택 UI 변경 분석 리포트

> **요청**: DualUploadCard 스타일 → WorkSessionDashboard 모달 스타일로 변경
> **분석일**: 2025-12-03
> **상태**: 검토 중

---

## 1. 현재 vs 요청 UI 비교

### 현재: DualUploadCard (드래그 앤 드롭)

```
┌─────────────────────────────────────────────────────────────┐
│  🔗 문제-해설 매칭                                          │
│                                                             │
│  ┌─────────────────┐    ┌─────────────────┐                │
│  │                 │    │                 │                │
│  │  📄 문제 PDF    │    │  📖 해설 PDF    │                │
│  │                 │    │                 │                │
│  │  드래그 앤 드롭  │    │  드래그 앤 드롭  │                │
│  │  또는 클릭      │    │  또는 클릭      │                │
│  │                 │    │                 │                │
│  └─────────────────┘    └─────────────────┘                │
│                                                             │
│              [매칭 시작하기]                                 │
└─────────────────────────────────────────────────────────────┘
```

**특징**:
- 새 파일 업로드 중심
- 큰 드롭존 2개 (시각적 공간 많이 차지)
- 기존 문서 선택은 문서 목록의 메뉴에서 별도로

### 요청: WorkSessionDashboard 스타일 (리스트 선택)

```
┌─────────────────────────────────────────────────────────────┐
│  🔗 문제-해설 매칭                                          │
│                                                             │
│  문제 문서                    해설 문서                      │
│  ┌─────────────────┐        ┌─────────────────┐            │
│  │ ○ math.pdf     │        │ ○ solution.pdf  │            │
│  │ ● bible.pdf ✓  │        │ ● answer.pdf ✓  │            │
│  │ ○ exam.pdf     │        │ ○ guide.pdf     │            │
│  └─────────────────┘        └─────────────────┘            │
│                                                             │
│              [작업 시작하기]                                 │
└─────────────────────────────────────────────────────────────┘
```

**특징**:
- 기존 문서 목록에서 선택
- 라디오 버튼 스타일
- 컴팩트한 UI
- 업로드는 별도 영역에서

---

## 2. 구현 가능성 분석

### 2.1 기술적 구현: ✅ 가능

| 항목 | 난이도 | 설명 |
|------|--------|------|
| 문서 목록 가져오기 | 쉬움 | `useDocuments()` 훅 이미 존재 |
| 라디오 선택 UI | 쉬움 | WorkSessionDashboard 코드 재사용 |
| 양쪽 문서 동시 선택 | 쉬움 | `selectedProblemId`, `selectedSolutionId` 상태 |
| 선택 후 이동 | 쉬움 | 기존 `/work/:sessionId` 라우트 활용 |

### 2.2 예상 코드 변경

```tsx
// DualUploadCard.tsx → DualDocumentSelector.tsx

function DualDocumentSelector() {
  const { data: documents } = useDocuments();
  const [selectedProblemId, setSelectedProblemId] = useState<string | null>(null);
  const [selectedSolutionId, setSelectedSolutionId] = useState<string | null>(null);

  return (
    <Card>
      <div className="grid grid-cols-2 gap-6">
        {/* 문제 문서 선택 */}
        <div>
          <h3>문제 문서</h3>
          <div className="space-y-2">
            {documents?.map((doc) => (
              <label key={doc.id} className={...}>
                <input
                  type="radio"
                  checked={selectedProblemId === doc.id}
                  onChange={() => setSelectedProblemId(doc.id)}
                />
                {doc.name}
              </label>
            ))}
          </div>
        </div>

        {/* 해설 문서 선택 */}
        <div>
          <h3>해설 문서</h3>
          {/* 동일한 패턴 */}
        </div>
      </div>

      <Button disabled={!selectedProblemId || !selectedSolutionId}>
        작업 시작하기
      </Button>
    </Card>
  );
}
```

---

## 3. UI/UX 철학 우려점

### 3.1 토스 철학 관점

CLAUDE.md에 정의된 토스 UX 원칙:

```
원칙 1: 기본값의 자동화 (Automation by Default)
원칙 2: 시각적 단순화 (Visual Simplicity)
원칙 3: 속도감 (Velocity)
```

### 3.2 우려점 분석

#### ⚠️ 우려 1: 새 파일 업로드 접근성 저하

**현재 DualUploadCard**:
- 드롭존이 메인 → 새 파일 업로드가 가장 쉬움
- "새 문서 추가"가 primary action

**변경 후**:
- 리스트 선택이 메인 → 기존 문서 중심
- 새 파일 업로드는 어디서?

**영향**:
```
Before: 파일 드롭 → 바로 매칭 시작
After:  파일 업로드(어딘가) → 돌아와서 → 리스트에서 선택 → 매칭 시작
```

**권장 해결책**:
```
┌─────────────────────────────────────────────────────────────┐
│  문제 문서                    해설 문서                      │
│  ┌─────────────────┐        ┌─────────────────┐            │
│  │ + 새 파일 업로드 │        │ + 새 파일 업로드 │  ◄── 상단에│
│  │─────────────────│        │─────────────────│            │
│  │ ○ math.pdf     │        │ ○ solution.pdf  │            │
│  │ ● bible.pdf ✓  │        │ ● answer.pdf ✓  │            │
│  └─────────────────┘        └─────────────────┘            │
└─────────────────────────────────────────────────────────────┘
```

---

#### ⚠️ 우려 2: 문서가 없을 때 빈 상태

**시나리오**: 처음 사용하는 사용자, 문서가 0개

**현재 DualUploadCard**:
- 드롭존이 보임 → "여기에 파일을 놓으세요" 명확

**변경 후**:
- 빈 리스트 → "등록된 문서가 없습니다"
- 어디서 업로드? 혼란 가능

**권장 해결책**:
```tsx
{documents?.length === 0 ? (
  <EmptyState>
    <UploadDropzone /> {/* 문서 없으면 드롭존 표시 */}
  </EmptyState>
) : (
  <DocumentList /> {/* 문서 있으면 리스트 표시 */}
)}
```

---

#### ⚠️ 우려 3: 같은 문서를 양쪽에 선택 가능

**시나리오**: 사용자가 실수로 같은 문서를 문제와 해설 모두에 선택

**현재 DualUploadCard**:
- 각각 별도 파일 업로드 → 자연스럽게 다른 파일

**변경 후**:
- 같은 리스트에서 선택 → 실수 가능성 ↑

**권장 해결책**:
```tsx
// 선택된 문서는 반대쪽 리스트에서 비활성화
const isDisabled = (docId: string, type: 'problem' | 'solution') => {
  if (type === 'problem') return docId === selectedSolutionId;
  return docId === selectedProblemId;
};
```

---

#### ✅ 장점 1: 시각적 단순화

- 드롭존 2개 → 리스트 2개
- 공간 효율성 증가
- 스크롤 없이 더 많은 문서 표시 가능

---

#### ✅ 장점 2: 기존 문서 재사용 촉진

- 이미 업로드된 문서를 쉽게 선택
- "다시 업로드" 불필요
- 작업 속도 향상

---

#### ✅ 장점 3: 일관된 UI 패턴

- WorkSessionDashboard의 모달과 동일한 패턴
- 사용자 학습 비용 감소
- 디자인 시스템 일관성

---

## 4. 추천 UI 설계

### 하이브리드 접근

```
┌─────────────────────────────────────────────────────────────┐
│  🔗 문제-해설 매칭                                          │
│                                                             │
│  ┌─────────────────────────┐ ┌─────────────────────────┐   │
│  │ 문제 문서               │ │ 해설 문서               │   │
│  │                         │ │                         │   │
│  │ ┌─────────────────────┐ │ │ ┌─────────────────────┐ │   │
│  │ │ + 새 파일 업로드 ▲   │ │ │ │ + 새 파일 업로드 ▲   │ │   │
│  │ └─────────────────────┘ │ │ └─────────────────────┘ │   │
│  │                         │ │                         │   │
│  │  ● math_bible.pdf    ✓  │ │  ○ solution_01.pdf     │   │
│  │  ○ exam_2024.pdf        │ │  ● answer_key.pdf   ✓  │   │
│  │  ○ practice.pdf         │ │  ○ guide.pdf           │   │
│  │                         │ │                         │   │
│  │  2개 문서               │ │  3개 문서               │   │
│  └─────────────────────────┘ └─────────────────────────┘   │
│                                                             │
│                    [작업 시작하기]                           │
│                                                             │
│  ─────────────────────────────────────────────────────────  │
│  💡 문서가 없다면 상단 드롭존에 파일을 놓거나 클릭하세요      │
└─────────────────────────────────────────────────────────────┘
```

### 핵심 설계 원칙

| 원칙 | 적용 |
|------|------|
| 기존 문서 우선 | 리스트가 메인 UI |
| 새 업로드 가능 | 상단에 작은 드롭존 |
| 실수 방지 | 같은 문서 양쪽 선택 불가 |
| 빈 상태 처리 | 문서 없으면 큰 드롭존 표시 |

---

## 5. 구현 체크리스트

### 필수
- [ ] `DualDocumentSelector` 컴포넌트 생성
- [ ] 양쪽 문서 선택 상태 관리
- [ ] 같은 문서 중복 선택 방지
- [ ] "작업 시작하기" → 세션 생성 + 이동

### 선택
- [ ] 작은 업로드 드롭존 (리스트 상단)
- [ ] 빈 상태 시 큰 드롭존 표시
- [ ] 최근 선택 문서 기억 (localStorage)

---

## 6. 결론

### 구현 가능성: ✅ 높음

- 기존 코드 재사용 가능
- WorkSessionDashboard 패턴 복사
- 예상 작업량: 1-2시간

### UI/UX 우려: ⚠️ 중간

| 우려 | 심각도 | 해결책 |
|------|--------|--------|
| 새 파일 업로드 접근성 | 중간 | 작은 드롭존 추가 |
| 빈 상태 처리 | 낮음 | 조건부 렌더링 |
| 중복 선택 가능 | 낮음 | 비활성화 로직 |

### 최종 권장

**진행 권장** - 우려점은 모두 해결 가능하며, 장점이 더 큼:
1. 시각적 단순화 (토스 철학)
2. 일관된 UI 패턴
3. 기존 문서 재사용 촉진

---

*리포트 작성: Claude Code (Opus)*
*마지막 업데이트: 2025-12-03*
